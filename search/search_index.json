{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"Processos/","title":"Processos","text":""},{"location":"Processos/#gestio-de-processos","title":"Gesti\u00f3 de processos","text":"<p>La gesti\u00f3 de processos \u00e9s una part fonamental en la gesti\u00f3 de projectes que utilitzen sistemes operatius com Ubuntu. Aquesta gesti\u00f3 implica supervisar, controlar i optimitzar els processos que s'executen en el sistema per garantir un funcionament eficient i evitar conflictes.</p>"},{"location":"Processos/#veure-els-processos-del-sistema","title":"Veure els processos del sistema","text":"<p>Amb la comanda pstree podem visualitzar els processos actius a l'usuari marc amb forma d'arbre.</p> <p></p> <p>Aquest comanda consta d'una opci\u00f3 per filtrar els processos per usuari amb el pstree -h.</p> <p>EN aquest cas joan no t\u00e9 cap processos obert. </p> <p>I si afegim el -p ens afegira l'identificador de cada proces.</p> <p></p> <p>Amb l'opci\u00f3  -T mostra solament el nom del proces.</p> <p></p> <p>Amb el -N ens ordena la sortida del UID o identificador.</p> <p></p> <p>I amb el -v podem veure la versi\u00f3 que utilitza pstree.</p> <p></p> <p>Si utilitzem el kill -9 (n\u00famero de proces) matem el proc\u00e9s.</p> <p>Si ens fixem ara he obert un altre terminal amb el n\u00famero 10894 si ara faig un kill a aquest n\u00famero el terminal es tancar\u00e0.</p> <p></p> <p>I efectivament es tanca.</p> <p></p> <p>Ja no apareix l'altre terminal.</p> <p></p> <p>El top t\u00e9 una funci\u00f3 similar a la del pstree tot i que aquest ens determina m\u00e9s informaci\u00f3 del proces com la memoria que utilitza, recursos, tot aix\u00f2 a temps real.</p> <p></p> <p>Si ens fixem la primera l\u00ednia ens indica que \u00e9s cada camp.</p> <p>Hi han 12 camps:</p> <p>PID (Process ID): \u00c9s l'identificador \u00fanic de cada proc\u00e9s en execuci\u00f3 al sistema. Serveix per identificar i controlar un proc\u00e9s espec\u00edfic, com ara finalitzar-lo amb la comanda kill.</p> <p>USER: Mostra el nom d'usuari que t\u00e9 els drets sobre el proc\u00e9s. Aquest usuari \u00e9s el responsable d'executar el proc\u00e9s. Permet veure quins processos estan associats amb un usuari concret i controlar l'\u00fas de recursos per part de cada usuari.</p> <p>UID (User ID): \u00c9s l'identificador num\u00e8ric associat a l'usuari que ha llan\u00e7at el proc\u00e9s. El valor de UID \u00e9s \u00fatil per identificar un usuari en el sistema a trav\u00e9s del seu ID num\u00e8ric en lloc del nom d'usuari.</p> <p>PR (Priority): Indica la prioritat del proc\u00e9s. Els processos amb una prioritat m\u00e9s baixa es consideren m\u00e9s importants per al sistema. Controlar la prioritat pot ser \u00fatil per gestionar la c\u00e0rrega del sistema i assignar m\u00e9s recursos a processos m\u00e9s importants o urgents.</p> <p>NI (Nice value): El valor de \"nice\" ajusta la prioritat d'un proc\u00e9s. Un valor nice m\u00e9s baix fa que el proc\u00e9s sigui m\u00e9s prioritari, mentre que un valor m\u00e9s alt el fa menys prioritari. Aquest valor es pot modificar per canviar la prioritat d'un proc\u00e9s sense haver de finalitzar-lo.</p> <p>VIRT (Virtual memory size): Indica la quantitat total de mem\u00f2ria virtual utilitzada pel proc\u00e9s. Aquesta mem\u00f2ria inclou la mem\u00f2ria RAM i la mem\u00f2ria que est\u00e0 en \u00fas per altres recursos (com el disc dur per al paginatge). Permet controlar si un proc\u00e9s est\u00e0 utilitzant m\u00e9s mem\u00f2ria del que seria normal o desitjable.</p> <p>RES (Resident memory size): Indica la quantitat de mem\u00f2ria f\u00edsica (RAM) utilitzada pel proc\u00e9s en un moment donat, excloent la mem\u00f2ria que \u00e9s compartida amb altres processos. Aquesta informaci\u00f3 \u00e9s \u00fatil per identificar processos que consumeixen molta mem\u00f2ria RAM i que poden afectar el rendiment global del sistema.</p> <p>SHR (Shared memory): Mostra la quantitat de mem\u00f2ria compartida que utilitza el proc\u00e9s, com ara biblioteques compartides amb altres processos. Permet veure l'\u00fas de la mem\u00f2ria compartida, important per optimitzar l'\u00fas de recursos entre diversos processos.</p> <p>S (Status): Mostra l'estat actual del proc\u00e9s. Pot ser un dels seg\u00fcents:</p> <p>R: En execuci\u00f3 o llest per executar-se (Running). S: Dormint (Sleeping), esperant per alguna cosa. D: Dormint en estat de no-interrupci\u00f3 (Uninterruptible sleep). T: Aturat (Stopped), per exemple, per una senyal. Z: Mort (Zombie), el proc\u00e9s ha acabat per\u00f2 el seu pare no ha recollit la informaci\u00f3. Aquesta informaci\u00f3 ajuda a identificar si els processos estan actius o si hi ha processos que podrien estar inactius o bloquejats. %CPU: Indica el percentatge de la CPU que un proc\u00e9s est\u00e0 utilitzant en un moment donat. Aquesta mesura \u00e9s important per veure quins processos estan consumint m\u00e9s pot\u00e8ncia de c\u00e0lcul del sistema.</p> <p>%MEM: Indica el percentatge de mem\u00f2ria RAM que un proc\u00e9s est\u00e0 utilitzant en el moment actual. Permet identificar els processos que consumeixen m\u00e9s mem\u00f2ria en el sistema, la qual cosa pot ser \u00fatil per evitar que el sistema es quedi sense recursos.</p> <p>TIME+: Mostra el temps total de CPU utilitzat pel proc\u00e9s des que va comen\u00e7ar a executar-se, expressat en format de temps (minuts i segons). Aquesta informaci\u00f3 \u00e9s \u00fatil per veure quant temps ha estat un proc\u00e9s en execuci\u00f3 i si \u00e9s necessari per al sistema.</p> <p>COMMAND : Mostra el nom del proc\u00e9s o el comandament que s'est\u00e0 executant. Aquesta informaci\u00f3 \u00e9s \u00fatil per identificar clarament quin proc\u00e9s s'est\u00e0 executant i ajudar a recon\u00e8ixer l'activitat que est\u00e0 passant al sistema.</p>"},{"location":"Processos/#ctrlc-i-ctrlz","title":"CTRL+C I CTRL+Z","text":"<p>Per cancelar un proces s'utilitza cntrl+c</p> <p></p> <p>I amb cntrl+z suspen el proces executat.</p> <p></p>"},{"location":"acls/","title":"Acls","text":"<p>Les ACLs son un altra forma per gestionar els permisos als usuaris i grups.</p> <p>Les ACLs permeten definir permisos m\u00e9s detallats sobre qui pot llegir, escriure o executar un arxiu, permetent especificar usuaris o grups espec\u00edfics, fins i tot si no s\u00f3n els propietaris o no formen part del grup associat a l'arxiu.</p> <p>Per poder comen\u00e7ar a uilitzar les ACLs, primer es tindran que instal\u00b7lar.</p> <p></p> <p>Tamb\u00e9 habilitarles al sistema.</p> <p></p> <p>Ara ja podem utilitzar les acl.</p> <p>La comanda fetfacl ens mostra els permisos que t\u00e9 actualment el fitxer sobre l'usuari el grup i altres. Tamb\u00e9 ens garantitza m\u00e9s informaci\u00f3 com el propietari del fitxer i al grup el  cual pertany.</p> <p></p> <p>En aquest cas podem veure que el fitxer pertany al grup i propietari root.</p> <p>Ara he fet una prova per assignarli permisos a l'usuari joan de lectura i escriptura sobre l'arxiu hola.</p> <p></p> <p>-m: Modifica l'ACL. u:juan:rw: Dona permisos de lectura (r) i escriptura (w) a l'usuari juan.</p> <p>I si torno comprovar s'han aplicat correctament els canvis.</p> <p></p> <p>Si ara faig el ls -l del arxi\u00fa hola per veure els permisos apareixera un signe de + per informar que aquest arxi\u00fa consta d'una ACL configurada.</p> <p></p> <p>Tamb\u00e9 puc modificar per a que el un grup pugui tenir els permisos que vulgui sobre el fitxer.</p> <p></p> <p>Aix\u00ed els usuaris del grup aventurers podran veure l'arxiu hola.</p> <p></p> <p>I com podem veure l'usuari ja t\u00e9 acc\u00e9s al arxiu hola.</p> <p></p>"},{"location":"as/","title":"Introducci\u00f3","text":"<p>En aquest primer Sprint s'explica els tipus de llicenciament, especificament amb el que utilitza VirtualBox i les aplicacions utilitzades a classe, tamb\u00e8 l'instal\u00b7laci\u00f3 d'un sistema operatiu Ubuntu 24 el particionatge etc. Una breu explicaci\u00f3 dels tipus de sectors d'inicis d'arrencada i les seves diferencies, una petita pr\u00e0ctica de com recuperar el GRUB a Ubuntu amb BOOT REPAIR i  SUPERGRUB2, i finalment alguines comendes importants utilitzades a Ubuntu.</p> <p></p>"},{"location":"comandes/","title":"Comandes","text":"<p>A continuaci\u00f3 explicare algunes comandes b\u00e0siques importants a la terminal d'Ubuntu</p>"},{"location":"comandes/#installacio-programa","title":"Instal\u00b7laci\u00f3 programa","text":""},{"location":"comandes/#installacio-urban-terror","title":"Instal\u00b7laci\u00f3 Urban Terror","text":"<p>Primer he instal\u00b7lat el repositori</p> <p></p> <p>I finalment l'instalare</p> <p></p> <p>I ja el tindre instal\u00b7lat.</p> <p></p> <p>sudo apt install</p> <p></p> <p>Aquest \u00e9s un programari de disseny gr\u00e0fic lliure i de codi obert. Permet editar imatges de manera professional, amb funcionalitats que inclouen retoc fotogr\u00e0fic, composici\u00f3 d'imatges, creaci\u00f3 d'animacions i dibuix digital.</p> <p></p> <p>Aquest t\u00e9 moltes opcions desde la selecci\u00f3, pinzells, relleno, corrector de color com el contraste, saturaci\u00f3 etc.</p> <p></p> <p>Actualtzar tots els arxius a la \u00faltima versi\u00f3.</p> <p>updgrade</p> <p></p> <p>Tamb\u00e9 podem llistar la versio del programari que hi ha disponible amb apt list -a</p> <p></p> <p>aptitude Aptitude ens dona molta m\u00e9s informaci\u00f3 sobre les coses que estem instal\"lant per exemple aqu\u00ed ens mostra els paquets que instal\u00b7larem si prenem enter.</p> <p></p> <p>Descomprimir archiu .deb</p> <p></p> <p>I ens crea la capeta on dins estan els arxius.</p> <p></p> <p>Descomprimir archiu tar.xz</p> <p>Per descomprimir un arxiu tar.xz utrilitzarem aquesta comanda.</p> <p></p> <p>Borrar archiu</p> <p>Per borrar una carpeta utilitzare rm amb l'atribut -r que indica que t\u00e9 que borrar tot el contingut m\u00e9s la carpeta.</p> <p></p> <p>Mostrar archius directori</p> <p>S'utilitza la comanda ls </p> <p></p> <p>Sortir de la carpeta.</p> <p></p> <p>Mostrar contingut arxiu, \u00e9s molt util per si solament volem visualitzar per exemple una configuraci\u00f3 sense tocar res.</p> <p></p> <p>Moure arxiu  Podem moure arxius a altres carpetes.</p> <p></p> <p>Podem eliminar una aplicaci\u00f3 pero mantenint els arxius de configuraci\u00f3 amb el remove </p> <p></p> <p>I per eliminar l'aplicaci\u00f3 i tots els arxius de configuraci\u00f3 s'utilitza el purge.</p> <p></p> <p> </p>"},{"location":"copiesseguretat/","title":"Copiesseguretat","text":"<p>En aquest apartat explicare algunes de les maneres optimes per fer copies de seguretat a Ubuntu Desktop. Tamb\u00e9 l'automatitzaci\u00f3 de tasques etc.</p> <p></p> <p>Explicare la configuraci\u00f3 de copies de seguretat amb 3 opcions molt bones.</p> <p>CP  En el context de c\u00f2pies de seguretat, el cp es pot fer servir per crear c\u00f2pies de seguretat manuals dels arxius o directoris importants d'un sistema, duplicant-los en una altra ubicaci\u00f3, com un disc dur extern o una carpeta de seguretat.</p> <p>Fare l'exemple dins del directori /home/alumne/Documents on he creat un fitxer i una carpeta,</p> <p></p> <p>La comanda cp ens permet copiar contingut d'una carpeta, arxius o directoris d'una manera molt sencilla.</p> <p>Com puc comprovar a la foto he copiat tot el contingut de la ruta /home/alumne/Documents/* al directori /var/copies.</p> <p>I si faig un ls puc veure com s'han copiat correctament.</p> <p></p> <p>RSYNC</p> <p>Rsync \u00e9s una eina per copiar i sincronitzar fitxers i carpetes, i \u00e9s molt \u00fatil per fer c\u00f2pies de seguretat. La seva gran avantatge \u00e9s que, en comptes de copiar tot el fitxer de nou, nom\u00e9s copia el que ha canviat, aix\u00ed que \u00e9s m\u00e9s r\u00e0pid i estalvia espai.</p> <p>En aquesta captura he seguit el mateix procediment, aquest \u00e9s una copia clara d'automatitzacio d'una tasca ja que com puc comprovar creo un fitxer i una carpeta i amb el rsync elimino el contingut anteriorment creat a la carpeta i el copio al directori /var/copies, a m\u00e9s a m\u00e9s rsync ens informa dels canvis fets</p> <p></p> <p>DD a difer\u00e8ncia d'altres eines, dd treballa a un nivell molt baix, copiant blocs de dades sense preocupar-se pel sistema de fitxers, el que la fa ideal per a tasques com fer c\u00f2pies de seguretat completes d'un disc dur o crear imatges exactes d'un dispositiu d'emmagatzematge.</p> <p>En aquest exemple copio les dades del sdb1 al sdc1, si despr\u00e9s faig un md5sum dels dos discs puc veure que el hash \u00e9s el mateix, normalment amb discos amb gran quantitat de dades el hash canvia, en aquest cas no ja que sol tenim un arxiu i una carpeta.</p> <p></p>"},{"location":"gestiodomini/","title":"Gestiodomini","text":""},{"location":"gestiodomini/#installacio-ldap-al-servidor","title":"Instal\u00b7laci\u00f3 ldap al servidor","text":"<p>En primer lloc he instal\u00b7lat el servidor ldap i ldap-utils per configurar el servidor.</p> <p></p> <p>Un cop instal\u00b7lat configurare el servidor ldap amb les credencials que jo vulgui.</p> <p></p> <p>Un cop dins ens demana si volem guardar o eliminar lo configuraci\u00f3 que hi ha actualment direm que s\u00ed.</p> <p></p> <p>Ara configurare el que s'anomena el name of the LDAP search per tant el nom del domini , que en el meu cas \u00e9s marc.cat.</p> <p></p> <p>Tamb\u00e9 ens demana la versi\u00f3, selecciono la 3.</p> <p></p> <p>Posem el root com a admin de la base de dades.</p> <p></p> <p>Compte de root.</p> <p></p> <p>Ara li assigno una contrasenya.</p> <p></p> <p>I finalment el tipus d'encriptaci\u00f3 per la contrasenya.</p> <p></p> <p>Ara si faig un slapcat puc comprovar que s'ha aplicat la configuraci\u00f3 al servidor.</p> <p></p>"},{"location":"gestiodomini/#creacio-usuaris-al-servidor","title":"Creaci\u00f3 usuaris al servidor","text":"<p>Dins del fitxer usu.ldif puc crear un nou usuari en el meu cas he creat l'usuari alu1 on li he creat el directori /home/alu1.</p> <p></p> <p>Tamb\u00e9 he creat una nova unitat organitzativa amb el nom users dins del fitxer uo.ldif.</p> <p></p> <p>I finalment un nou grup anomenat alumnes on afagirem com a membre a alu1, tot aix\u00f2 al fitxer grup.ldif.</p> <p></p> <p>Ara ja tinc els fitxers configurats per crear els objectes que necessito, em queda anyadir-los amb la comanda ldapadd.</p> <p></p>"},{"location":"gestiodomini/#unir-client-al-domini","title":"Unir client al domini","text":"<p>Un cop tinc el server actiu i ben configurat hi puc fer la prova per unir un client en aquest domini.</p> <p>Jo he iniciat una nova m\u00e0quina Ubuntu Desktop que fara com a client i s'unira al servidor ldap.</p> <p></p> <p>Un cop dins ens demana la configuraci\u00f3 on posare ldap:// i la IP del servidor que \u00e9s 10.0.2.15.</p> <p></p> <p>Tamb\u00e9 he d'afegir la l\u00ednia de gshadow al fitxer nsswitch.conf.</p> <p></p> <p>Tamb\u00e9 he d'afegir la l\u00ednia session optional </p> <p>Tamb\u00e9 afegire aquesta l\u00ednia.</p> <p></p> <p>Ara si faig un getent passwd puc comprovar que tinc l'usuari al client, per tant estic connectat.</p> <p></p> <p>Per tant puc accedir a l'usuari.</p> <p></p> <p></p>"},{"location":"gestiodomini/#servidor-nfs","title":"SERVIDOR NFS","text":"<p>Pimer instl\u00b7lare el servidor nfs al Ubuntu, amb aquesta comanda.</p> <p></p> <p>Tamb\u00e9 l'instl\u00b7laci\u00f3 per la part del Ubuntu client.</p> <p></p> <p>I per al client Windows.</p> <p></p> <p>Seguidament anire a activar o desactivar caracter\u00edstiques de Windows.</p> <p></p> <p>I finalment activare el servei nfs per al client.</p> <p></p> <p>Ara creo una carpeta anomenada compartida i li dono els permisos adients.</p> <p></p> <p>Ara al arxiu exports afegeixo aquesta l\u00ednia </p> <p></p> <p>Si ara faig la prova amb el windows puc comprovar que efectivament esta compartida cal recordar que tene que estar al mateix rang de xarxa.</p> <p></p> <p>S\u00ed ara creo una carpeta desde el Windows la tinc que poder visualitzar al servidor.</p> <p></p> <p>Efectivament apareix al servidor.</p> <p></p>"},{"location":"gestiodomini/#perfils-mobils","title":"Perfils Mobils","text":"<p>Ara crearem un altra carpeta i li pasarem la ruta al arxiu /rtc/exports.</p> <p></p> <p>Li assignarem per al usuari alu2 el directori de la carpeta que hem creat.</p> <p></p> <p>Li indiquem aquesta l\u00ednia. </p> <p>Apartir d'aqu\u00ed ja no vaig poder accedir a alu2.</p>"},{"location":"instalacio/","title":"Intal\u00b7laci\u00f3 Ubuntu a VirtualBox","text":"<p>Dins del VirtualBox ens apareixera aquesta seria d'elements.</p> <p>&lt;img src=(/img/elements.png)</p> <p>Per afegir una nova m\u00e0quina seleccionarem nova, i ens apareixera aquesta pestanya on podem posar el nom de la m\u00e0quina el directori on guardar-la, el tipus i el sistema operatiu.</p> <p></p> <p>Seguidament ens apareixeran el hardaware com la memoria base i els n\u00famero de processadors que volem utilitzar.</p> <p></p> <p>Si continuem ens apareixera la mida que li volem donar al disc virtual de la m\u00e0quina.</p> <p></p> <p>Un cop fet aix\u00f3 ja podrem visualitzar la m\u00e0quina creada.</p> <p></p> <p>Tot i que no ens arrancara si no li posem una ISO amb el sistema operatiu Ubuntu 24.04.1 en el nostre cas.</p> <p>Per aix\u00f2 ens dirigim a l'apartat parametres </p> <p></p> <p>I posarem la ISO del Ubuntu 24.04.1</p> <p></p>"},{"location":"instalacio/#configuracio-dins-la-maquina","title":"Configuraci\u00f3 dins la m\u00e0quina","text":"<p>Un cop fet l'anterior ja podrem executar la m\u00e0quina, el primer que ens preguntara \u00e9s l'idioma.</p> <p></p> <p>Tamb\u00e9 apareixeran alguna pasos irellebants sobre idioma del teclat, localitzaci\u00f3 etc.  Pero la part m\u00e9s important \u00e9s aquesta i nosaltres seleccionarem instal\u00b7laci\u00f3 manual.</p> <p></p>"},{"location":"instalacio/#particionatge","title":"Particionatge","text":"<p>Aquesta \u00e9s la taula de particionatge, he reservat 20GB per l'arrel del sistema que \u00e9s la que requereix de m\u00e9s emmagatzematge, 16GB pel boot, i 17,68GB pel home que estaria reservat pel archius, fotos, videos etc per l'usuari.</p> <p></p> <p>Finalment ens preguntara el teu nom, el nom de l'equip i la contrasenya.</p> <p></p> <p>Un cop fet aix\u00f2 comen\u00e7ara l'instal\u00b7laci\u00f3.</p> <p> <p>Aquesta obra t\u00e9 la llic\u00e8ncia CC BY-NC-ND 4.0</p></p>"},{"location":"llicenciament/","title":"Llicenciament","text":"<p>Per comen\u00e7ar \u00e9s necessari saber un poc dels tipus de llicenciament que hi han, en especial amb els programes que utilitzarem en aquest SPRINT.</p> <p>El llicenciament son les normes que imposa un autor d'una aplicaci\u00f3, foto, video, m\u00fasica etc, que podem realitzar.</p> <p></p>"},{"location":"llicenciament/#licenciament-de-la-meva-pagina","title":"Licenciament de la meva p\u00e0gina.","text":"<p>Aquesta obra t\u00e9 la llic\u00e8ncia CC BY-NC-SA 4.0.</p> <p> </p> <p>Aquesta llic\u00e8ncia requereix que els reusuaris donin cr\u00e8dit al creador. Permet als reutilitzadors distribuir, remesclar, adaptar i construir sobre el material en qualsevol mitj\u00e0 o format, fins i tot amb finalitats comercials.</p> <p>PER: S'ha de donar cr\u00e8dit a tu, el creador.</p> <p>NC: Nom\u00e9s es permet l'\u00fas no comercial del vostre treball. No comercial vol dir que no es destina principalment ni es dirigeix \u200b\u200bcap a un avantatge comercial o una compensaci\u00f3 monet\u00e0ria.</p> <p>SA: Les adaptacions s'han de compartir en els mateixos termes.</p> <p>Tipus de llicencies</p> <p>Llic\u00e8ncia propiet\u00e0ria:</p> <p>El creador controla tot. Normalment cal pagar per fer servir el producte. No es pot modificar ni compartir.</p> <p>Llic\u00e8ncia lliure:</p> <p>Permet utilitzar, modificar i compartir el programari. Tipus: Copyleft: Les modificacions tamb\u00e9 han de ser lliures. Amb restriccions: Permet canvis, per\u00f2 no es poden redistribuir lliurement.</p> <p>Llic\u00e8ncia de codi obert:</p> <p>Permet accedir al codi font per veure\u2019l i modificar-lo. Fomenta que la gent col\u00b7labori, encara que potser no sigui gratis.</p> <p>Llic\u00e8ncies creatives:</p> <p>S\u00f3n per a creadors i artistes. Permeten establir com es pot utilitzar la seva obra (si es pot fer servir amb fins comercials o no). Per exemple les creative commons que aquest mateix document consta.</p>"},{"location":"llicenciament/#llicenciament-virtualbox","title":"Llicenciament VirtualBox","text":"<p>VirtualBox utilitza GNU General Public License, \u00e9s un tipus de llicenciament de codi obert, aix\u00f2 permet als usuaris utilitzar, modificar i redistribuir el software, semprei quan es publique amb la mateixa llicencia.</p> <p></p> <p>Aquesta obra t\u00e9 la llic\u00e8ncia CC BY-NC-ND 4.0</p>"},{"location":"particions/","title":"Particions","text":"<p>El particionatge a Ubuntu \u00e9s una etapa fonamental en la instal\u00b7laci\u00f3 del sistema operatiu, ja que permet dividir l'espai de disc en unitats l\u00f2giques anomenades particions. Aquest proc\u00e9s facilita la gesti\u00f3 dels recursos del sistema, millorant el rendiment i la seguretat. A m\u00e9s, el particionatge permet tenir diferents sistemes operatius o gestionar de manera independent les dades d'usuari, els fitxers del sistema i els fitxers temporals. Ubuntu ofereix eines gr\u00e0fiques i de l\u00ednia de comandes per realitzar aquest particionatge, amb opcions com ext4 o LVM per a una major flexibilitat.</p> <p>Per fer una prova de particionatge a un disc he creat una m\u00e0quina virtual amb un disc secundari de 2GB per crear una partici\u00f3 de 1GB.</p> <p></p> <p>Un cop dins la m\u00e0quina podem visualitzar els discs amb la comananda fdisk -l.</p> <p></p> <p>Aqu\u00ed tinc el disc i com puc comprovar no tinc cap partici\u00f3.</p> <p></p>"},{"location":"particions/#particio-al-disc","title":"Particio al disc","text":"<p>El primer que fare \u00e9s crea una partici\u00f3 al disc sdb de 1GB on tindre compartida una carpeta.</p> <p>Ens sortira aquest men\u00fa i si prenem la tecla M ens sortiran totes les opcions que podem utilitzar, per tant jo utilitzare la lletra n per crear una nova partici\u00f3. </p> <p></p> <p>Ara ens preguntara el tipus de particio que volem crear seleccionem primaria, el n\u00famero de particio que el deixem en predeterminat i el tamany de la particio que poso 2000000 que equivaldrien a 976,6 MiB finalement per desar els canvia posarem la lletra w (write)</p> <p></p> <p>Ara si he creat correctament la partici\u00f3 si torno a executar fdisk -l apareixera el disc juntament amb la partici\u00f3.</p> <p></p> <p>A continuaci\u00f3 he creat el sistema de fitxer a la partici\u00f3 exactament de 2048 Bytes</p> <p>Aquesta partici\u00f3 le configurat per sistema de fitxers ext4 per tant \u00e9s exclusivament per sistemes Linux.</p> <p></p> <p>Ara podem comprovar si s'ha aplicat correctament la configuraci\u00f3 de la partici\u00f3 amb aquesta comanda.</p> <p>I efectivament ens surt la mida del bloc que li he assignat.</p> <p></p> <p>A la part dreta t\u00e9 que apareixer la partici\u00f3 de 1GB.</p> <p></p> <p>I com encara no he creat res dins de la partici\u00f3 apareixera buida.</p> <p></p> <p>Com he dit anteriorment ara vull assignar una carpeta per aquesta partici\u00f3.</p> <p>Per primer he de crear una carpeta al directori /var.</p> <p></p> <p>I un arxiu.</p> <p></p> <p>Ara s\u00ed, faig el mount de la partici\u00f3 a la carpeta que he creat al directori /var amb format de fitxers ext4.</p> <p></p> <p>Si ara visualitzo el que tinc a la carpeta particio1 puc veure el lost+found, que \u00e9s la carpeta que es crea de manera predeterminada al monta la carpeta a una partici\u00f3.</p> <p>Per tant l'arxiu hola ja no esta a la particio nova.</p> <p></p> <p>Pero si ara torno a crear un altre arxiu s\u00ed que apareixera a la partici\u00f3</p> <p></p> <p>Per tant ara si faig el df -T puc veure que la particio est\u00e0 a la carpeta corresponent.</p> <p></p> <p>Amb el mount cada cop que reiniciem el sistema la partici\u00f3 es desmonatara, i de vegades no ens interessa per tant si volem mantenir els canvis tindriem que modificar el fitxer /etc/fstab auqesta \u00e9s la configuraci\u00f3 que equival al mount.</p> <p></p>"},{"location":"particions/#acces-amb-samba","title":"Acc\u00e9s amb samba","text":"<p>Samba \u00e9s una eina que permet que un sistema Linux/Unix funcioni com un servidor de fitxers o de recursos compartits per a ordinadors Windows i altres dispositius compatibles amb SMB. Aix\u00f2 inclou:</p> <p>Compartici\u00f3 de fitxers:</p> <p>Comparteix carpetes i fitxers entre ordinadors Linux i Windows.</p> <p>Els usuaris poden accedir als fitxers com si fossin locals, amb permisos configurables.</p> <p></p> <p>Ara fare la prova per accedir a la particio i la carpeta que he creat anteriorment.</p> <p>Desde el client.</p> <p></p>"},{"location":"particions/#paticio-ntfs-per-windows","title":"Paticio NTFS per Windows","text":"<p>Ara fare el mateix procediment pero amb format de fitxer NTFS per tenir acc\u00e9s a la partici\u00f3 desde un sistema operatiu Windows.</p> <p>Afegire un nou disc i creare de nou una partici\u00f3.</p> <p></p> <p>Un cop creada la particio instal\u00b7lare el sistema de fitxers NTFS a la m\u00e0quina. </p> <p></p> <p>Ara formateijo la partici\u00f3 sdb1 creada.</p> <p></p> <p>Ara creo la carpeta compartida per la partici\u00f3 al directori /var.</p> <p></p> <p>I munto la partici\u00f3 a la carpeta corresponent.</p> <p></p> <p>I si faig un lsblk puc veure que la partici\u00f3 esta a la carpeta corresponent.</p> <p></p> <p>Ara ja tant sols em queda configurar l'arxiu smb.conf amb la ruta de la carpeta.</p> <p></p> <p>I d'aquesta manera ja podriem accedir a la carpeta prova de la partici\u00f3 /dev/sdb1.</p>"},{"location":"permisos/","title":"Permisos","text":""},{"location":"permisos/#arxiu-etcgroup","title":"Arxiu /etc/group","text":"<p>En aquest fitxer podem visualitzar tots els grups del sistema el GUID identificador del grup i els usuaris que hi perteneixen.</p>"},{"location":"permisos/#tipus-de-permisos","title":"Tipus de permisos","text":"<p>I tenim 3 principals lletres les quals ens informen de quins permisos i t\u00e9 un usuari, un grup o altres.</p> Perm\u00eds Arxiu Directori r Perm\u00eds de lectura del contingut de l'arxiu Perm\u00eds de llistar les entrades del directori w Perm\u00eds de modificar el contingut de l'arxiu Perm\u00eds de modificar les entrades del directori x Perm\u00eds d'executar l'arxiu Perm\u00eds d'acc\u00e9s a les entrades del directori <p>Els permisos r i x han d\u2019estar actius per accedir a l'arxiu.</p> <p>Amb la comanda ls -l, podem veure els permisos del meu usuari per cada fitxer o directori.</p> <p>Tamb\u00e9 podem administrar els perm\u00edsos especialment amb un perm\u00eds determinat.</p> <p>Com podem veure en aquesta taula.</p> Comandament Propietari Grup Altres Descripci\u00f3 <code>chmod u+r fitxer</code> r - - Afegir perm\u00eds de lectura al propietari <code>chmod u-w fitxer</code> - - - Treure perm\u00eds d'escriptura al propietari <code>chmod u+x fitxer</code> x - - Afegir perm\u00eds d'execuci\u00f3 al propietari <code>chmod g+r fitxer</code> - r - Afegir perm\u00eds de lectura al grup <code>chmod o+x fitxer</code> - - x Afegir perm\u00eds d'execuci\u00f3 a altres usuaris <code>chmod o= fitxer</code> - - - Eliminar tots els permisos a altres usuaris <p>Al primer arxiu que en  aquest cas \u00e9s una foto podem veure que per l'usuari tinc el perm\u00eds de llegir (r), escriure (w) pero no el d'execuci\u00f3, el mateix per al grup i per als altres sol consta el perm\u00eds de lectura.</p> <p></p> <p>Aqu\u00ed podem veure quin \u00e9s el l'usuari i el grup.</p> <p></p>"},{"location":"permisos/#administracio-grups","title":"Administraci\u00f3 Grups","text":"<p>Ara fare la prova de crear un nou usari anomenat joan.</p> <p></p> <p>I ara intentare crear un arxiu amb l'usuari nou.</p> <p>Com podem comprovar no ens deixa, aix\u00f2 \u00e9s degut a que l'usuari no pertany al grup sudoers per tant no podra crear cap arxiu (Sempre que afegim un nou usuari ens creara l'usuari i el seu propi directori). </p> <p></p> <p>Si faig un id del meu usuari principal de la m\u00e0quina podem veure que pertany al grup del seu usuari marc, al de adm, al de sudo i al de users, en canvi el nou usuari joan solament forma part del seu propi grup  joan i al de users.</p> <p></p>"},{"location":"permisos/#gestio-de-permisos-i-grups","title":"Gestio de permisos i grups","text":"<p>Per crear un exemple, he creat un usuari anomenat Pau aquest formara part del grup junta i tindra acc\u00e8s a la carpeta junta</p> <p></p> <p>Ara creo el grup i afegeixo a pau al grup.</p> <p></p> <p>Ara creo un directori prova que sol podran veure el root i els membres del grup basquet.</p> <p></p> <p>Ara li donem perm\u00eds de la carpeta al grup junta.</p> <p></p> <p>I finalment li dono els permisos de llegir i escriure.</p> <p></p> <p>I ara ja podre accedir del usuari a la carpeta.</p> <p></p> <p>Ara si comprovo per entrar amb un usuari que no pertany al grup junta no podra accedir.</p> <p></p>"},{"location":"permisos/#administracio-de-contrasenyes","title":"Administraci\u00f3 de contrasenyes","text":"<p>A Linux hi ha un fitxer que ens proporciona les contrasenyes xifrades aquest fitxer \u00e9s el /etc/shadow.</p> <p></p> <p>No obstant aquest fitxer nom\u00e9s l'administrador t\u00e9 el perm\u00eds de lectura. Per tant la resta d'usuaris no el podram veure, tot i que els usuaris poden cambiar les seves contrasenyes amb la comanda passwd.</p>"},{"location":"recuperarsistema/","title":"Recuperar GRUB","text":"<p>Si som usuaris nous i no tenim prou coneixements d'inform\u00e0tica \u00e9s possible que algun cop el nostre equip no arranqui i en alguns casos el propi usuari ha eliminat una petita part del sistem d'arrencada o simplement esta danyat, per aix\u00f2 fare una prova de com recuperar el sistema borran la carpeta GRUB.</p>"},{"location":"recuperarsistema/#boot-repair","title":"BOOT REPAIR","text":"<p>Jo ho he fet amb una maquina virtual Ubuntu tot i que normalment un usuari b\u00e0sic utilitzara el seu propi sistema operatiu per tant tindra que instal\u00b7lar a una unitat apart tant sigui un pen drive o una unitat USB la ISO de recuperaci\u00f3    BOOT REPAIR.</p> <p></p> <p>Ara ja tenim la ISO instal\u00b7lada per\u00f2 primer tindre que eleiminar la carpeta grub del ubuntu.</p> <p></p> <p>Ara si intentem reiniciar la m\u00e0quina apareixera aquest error que ens indica que no hi ha sistema d'arrencada ja que l'hem eliminat.    </p> <p>Per tant ara \u00e9s el moment on tenim que inserir en cas de ser un usuari amb la seva m\u00e0quina local el dispositiu USB amb la ISO del BOOTREPAIR pero amb el meu cas desde virtual box posare la ISO.</p> <p></p> <p>I ara iniciare un altre cop la m\u00e0quina, si ets un usuari amb la teva m\u00e0quina local per inserir al dispositiu USB mantindras la tecla F10, SUPR, F12 depenent el tipus de placa base per entrar al administrador d'arrencada.</p> <p>Un cop dins ens apareixera una interf\u00edcie gr\u00e0fica, seleccionarem l'opci\u00f3 REPAIR BOOT.</p> <p></p> <p>Seguidament ens pregunta quina opci\u00f3 de recuperaci\u00f3 volem posare la recomanda.</p> <p></p> <p>I comen\u00e7ara la reparaci\u00f3.</p> <p></p> <p>Finalment si s'ha reparat correctament ens apareixera aquesta pestanya.</p> <p></p> <p>Ara reiniciare la m\u00e0quina i ja tindre el grub instal\u00b7lat per tant podre iniciar la m\u00e0quina.</p> <p></p> <p></p>"},{"location":"recuperarsistema/#supergrub2","title":"SUPERGRUB2","text":"<p>\u00c9s una altra eina de recuperaci\u00f3 d'arranc tot i que \u00e9s m\u00e9s complexa i et brinda m\u00e9s control i personalitzaci\u00f3.</p> <p>Seguirem els mateixos passos que amb el boot repair, primer ens baixarem la ISO del supergrub2</p> <p></p> <p>Tamb\u00e9 tinc una m\u00e0quina Ubuntu la cual iniciare i fare un altra prova borrant el grub.</p> <p></p> <p>Ens apareixera el mateix error ja que hem borrat el GRUB.</p> <p></p> <p>Ara inserire la ISO del SuperGrub2.</p> <p></p> <p>Ens apareixera un men\u00fa com aquest.</p> <p></p> <p>Seleccionare detecta sistemes operatius i particions.</p> <p></p> <p>I per \u00faltim seleccionare el sistema operatiu que tenia Linux i la partici\u00f3 generica. </p> <p></p> <p>Un cop fet aix\u00f2 al reiniciar ja podre accedir a l'interf\u00edcie gr\u00e0fica tot i que per que continue funcionant he tingut que instal\u00b7lar el disco general.</p> <p></p> <p>Seguidament actualitzare el GRUB2</p> <p></p> <p>I finalment instal\u00b7lare el GRUB.</p> <p></p> <p>Un cop fet aix\u00f2 ja tindre l'arranvc arreglat.</p> <p>Aquesta obra t\u00e9 la llic\u00e8ncia CC BY-NC-ND 4.0</p>"},{"location":"restauracio/","title":"Punt restauraci\u00f3","text":"<p>Tenir un punt de restauraci\u00f3 a Ubuntu \u00e9s important per diverses raons:</p> <p>Recuperaci\u00f3 de dades: En cas de fallades del sistema, errors de programari o canvis que causin problemes, els punts de restauraci\u00f3 permeten recuperar l'estat anterior del sistema.</p> <p>Proves de programari: Si instal\u00b7les nous programes o realitzes canvis en la configuraci\u00f3, un punt de restauraci\u00f3 et permet desfer aquests canvis f\u00e0cilment si no funcionen com esperaves.</p> <p>Seguretat: Ajuda a mantenir el sistema estable i segur, ja que pots revertir canvis que podrien comprometre el rendiment o la seguretat del sistema.</p> <p>Estalvi de temps: Si alguna cosa va malament, pots evitar el proc\u00e9s llarg de reinstal\u00b7lar el sistema operatiu o reconfigurar les aplicacions, estalviant temps i esfor\u00e7.</p> <p>A Ubuntu podem utilitzar el Timeshift per recuperar arxius perduta fent una instantanea.</p> <p></p> <p>Per poder fer la prova primer he creat una carpeta amb un arxiu.</p> <p></p> <p>Ara instal\u00b7lem  el timeshift amb apt install.</p> <p></p> <p>Al iniciarlo apareixera el tipo d'instantanea que volem fer elegire Rsync ja que volem fer una prova d'una copia d'un arxiu.</p> <p></p> <p>Seguirem i ara \u00e9s creara.</p> <p></p> <p>Ara ens demana que seleccionem de quina partici\u00f3 volem fer la copia he seleccionat la sda1 que \u00e9s el meu HOME on tinc els fitxers i la capeta prova.</p> <p></p> <p>Si li posem a continuar ens apareixera l'apartat de la configuraci\u00f3 on podem triar quan fer l'instantanea autom\u00e0ticament, mensualment, semanalment, a diari, cada hora o al arrancar.</p> <p></p> <p>Ara ens demana quina archius de la partici\u00f3 volem guardar he seleccionat els del root i els arxius que tinc al home.</p> <p></p> <p>Un cop fe ai\u00f2 creare la instantanea.</p> <p></p> <p></p> <p>Ara per poder fer la prova eliminare la carpeta creada anteriorment.  </p> <p>I executare la instantanea per veure si ens recupera la carpeta.  </p> <p>Ara podem tornar a comprobar que he recuperat la carpeta de prova.</p> <p></p> <p>Aquesta obra t\u00e9 la llic\u00e8ncia CC BY-NC-ND 4.0</p>"},{"location":"sprint2/","title":"Sprint2","text":"<p>Sprint2</p>"},{"location":"sprint2/#introduccio","title":"Introducci\u00f3","text":"<p>En aquest sprint veurem com es gestionen els usuaris, grups i permisos d'un sistema en Linux. Tamb\u00e9 configurarem les pol\u00edtiques de seguretat per a comptes d'usuaris i per al sistema. Instal\u00b7larem i configurarem serveis i processos essencials del sistema operatiu, crearem i administrarem sistesmes de fitxers i noces particions. Implementarem un sistema de c\u00f2pies de seguretat i per \u00faltim farem proves per comprovar el funcionament del sistema.</p>"},{"location":"sprint2/#gestio-de-processos","title":"Gesti\u00f3 de processos","text":"<ul> <li>En primer lloc definirem un proc\u00e9s. Aquest es un programa en execuci\u00f3 que inclou dins seu: el seu codi, els recursos que te assignats i la seva execuci\u00f3. El procesos de linux poden ser en primer o en segon pla. Els que est\u00e0n en primer pla implequen una interacci\u00f3 amb l'usuari mentre que als de segon pla no es requereix aquesta interacci\u00f3.</li> <li> <p>La primera comada que utilitzarem per llistar els procesos es \"pstree\", aquesta ens mostrar\u00e0 els processos actius que hi ha i quins son els seus fills si es que en t\u00e9, tot aix\u00f2 amb forma d'arbre, d'aqu\u00ed el nom.</p> <p><code>[](#__codelineno-0-1)pstree</code></p> <p>  *   Amb la mateixa comanda si volem saber a l'usuari que correspon i a quin n\u00famero de proc\u00e9s tenim ho podem realitzar amb les lletres h (usuari) i p (proc\u00e9s).</p> <p><code>[](#__codelineno-1-1)pstree -p -h usuari</code></p> <p> *   A continuaci\u00f3 veurem com matar un proc\u00e9s, per aix\u00f2 ser\u00e0 necessari saber quin n\u00famero de proc\u00e9s li correspon a cadascun d'aquestos. En el cas de matar un proc\u00e9s pare tots els processos fills haurien de morir, tot i que hi ha una possibiltat de que alg\u00fan quedi viu, i aquestos s'anomenen zombies. *   Per matar un proc\u00e9s utilitzarem la seguent comanda i el n\u00famero de proc\u00e9s:</p> <p><code>[](#__codelineno-2-1)kill -9 (PID)</code></p> </li> <li> <p>Per fer la prova he utilitzat un altre terminal i m'he guardat el seu PID, per matar el proc\u00e9s tal i com es demostra a continuaci\u00f3:   </p> </li> <li> <p>La comanda anterior fa una imatge dels processos, aquestos no canvien en temps real, per fer una consulta d'aquest tipus utilitzarem la comanda \"top\".</p> <p><code>[](#__codelineno-3-1)top</code></p> </li> <li> <p>Aquesta comanda ens dona molta informaci\u00f3 per columnes, i ara veurem que vol dir cada columna. PID: Identificador \u00fanic del proc\u00e9s. USER: Usuari que inicia el proc\u00e9s. %CPU: Percentatge d'\u00fas del processador. %MEM: Percentatge d'\u00fas de la mem\u00f2ria RAM. COMMAND: Nom de la comanda o programa. </p> </li> <li>En cas d'obrir un nou proc\u00e9s (ex: navegador) aquest ens apareixer\u00e0.  </li> <li>La prioritat no es pot modificar directament, per\u00f2 amb el NI (nice) si que es pot canviar, contra mes baix es el n\u00famero m\u00e9s prioritat t\u00e9. Aix\u00f2 es pot fer amb la seg\u00fcent comanda. Val a dir que caldria fer-ho des de el root ja que com sabem ens otorga m\u00e9s privilegis.</li> </ul> <p><code>[](#__codelineno-4-1)renice -n -n\u00baprioritat -p PID</code></p> <p>  - Aquesta comanda serveix per moments determinats la prioritat per renice no es permanent. - Seguidament tamb\u00e9 podem utilitzar la comanda \"ps aux\" que ens dona una informaci\u00f3 similar per\u00f2 amb diferents parametres que veurem a continuaci\u00f3: USER: Usuari que ha iniciat el proc\u00e9s. PID: Identificador \u00fanic del proc\u00e9s. %CPU i %MEM: Percentatge de CPU i mem\u00f2ria RAM utilitzats pel proc\u00e9s. VSZ: Mem\u00f2ria virtual total utilitzada pel proc\u00e9s. RSS: Mem\u00f2ria f\u00edsica utilitzada pel proc\u00e9s. TTY: Terminal associat al proc\u00e9s ( ? si no en te). STAT: Estat del proc\u00e9s. R Executant-se (Running). S = Inactiu. T = Pausat. Z = Proc\u00e9s zombi. I = Inactiu o sense consumir recursos. &lt; = Alta prioritat de CPU. s = L\u00edder de sessi\u00f3. l = Multithread. + = Associat al terminal en primer pla.</p> <p><code>[](#__codelineno-5-1)ps aux</code></p> <p> - Amb el ps podem fer varies combinacions per mostrar informaci\u00f3 en concret a continuaci\u00f3 veurem quines s\u00f3n i que fan.</p> <p><code>[](#__codelineno-6-1)ps -e</code></p> <p>- Mostra tots els procesos del sistema amb una sintaxis estandar.</p> <p><code>[](#__codelineno-7-1)ps -ejH</code></p> <p>- Mostra un arbre de procesos-</p> <p><code>[](#__codelineno-8-1)ps -eLf</code></p> <p>- Mostra la informaci\u00f3 dels fils (threads).</p> <p><code>[](#__codelineno-9-1)ps -eM</code></p> <p>- Mostra informaci\u00f3 de seguretat</p> <p><code>[](#__codelineno-10-1)ps -U</code></p> <p>- Mostra tots els processos de root.</p> <ul> <li>A continuaci\u00f3 veurem que s\u00f3n els processos amb segon pla i com passar processos a aquest estat. Com hem dit abans amb el kill -9 matem un proc\u00e9s i amb el ctrl+c l'aturem i amb el ctrl+z si que el passariem a segon pla. (Nota: segons el tipus de proc\u00e9s que aturem, si aquest va per terminal igaul no se'ns mostra en segon pla).</li> <li> <p>La comada per veure els processos en segon pla es la seg\u00fcent.</p> <p><code>[](#__codelineno-11-1)jobs</code></p> <p> *   Un cop tenim aquest proc\u00e9s localitzat i no volem matar-lo sino que el volem enviar al primer pla podem utilitzar la seg\u00fcent comanda.</p> <p><code>[](#__codelineno-12-1)fg %n\u00ba</code> </p> <p>  *   En cas de voler fer el proc\u00e9s invers i enviar un proc\u00e9s al segon pla podem utilitzar:</p> <p><code>[](#__codelineno-13-1)bg %n\u00ba</code></p> </li> <li> <p>En algun cas espacial igual volderm executar algun proc\u00e9s directament amb segon pla, i es pot fer de la seguent forma.</p> <p><code>[](#__codelineno-14-1)nomproces &amp;</code></p> </li> <li> <p>A l'hora de consultar processos amb top em vist que es una eina en viu i que els processos que volem consultar es van movent i, a vegades se'ns pot fer complicat llegir-lo. En cas de voler evitar aix\u00f2 i sol consultar el PID d'un proc\u00e9s en concret podem fer servir la seg\u00fcent comanda.</p> <p><code>[](#__codelineno-15-1)pgrep nomproces</code></p> <p> *   Un altra forma de fer-ho podria ser utilitzant comandes anteriors i afegir un grep, pero en algunes opcions com el ps aux pot quedar una mica conf\u00f3s, personalment ho recomano amb el pstree ja que aix\u00ed veurem tamb\u00e9 els processos fills.</p> <p><code>[](#__codelineno-16-1)pstree | grep nomproces</code></p> <p> *   Per acabar, si en algun moment volem utilitzar alg\u00fan script o proc\u00e9s i que aquest tingui una prioritat predeterminada per nosaltres es pot fer amb el nice.</p> <p><code>[](#__codelineno-17-1)nice -n n\u00baprioritat nomproces</code></p> <p> *   Amb un \"top\" podem comprovar si ha funcionat correctament. </p> </li> </ul>"},{"location":"sprint2/#gestio-dusuaris-grups-i-permisos","title":"Gesti\u00f3 d'usuaris grups i permisos","text":"<ul> <li>Es important que al nostres sistema tinguem diferents usuaris i que aquestos tinguen diferents caracteristiques, i que els puguem incloure en grups per classificar-los. A m\u00e9s a m\u00e9s, tamb\u00e9 ens interessar\u00e0 poder modificar-los, eliminar-los i bloquejar-los al nostre gust. Tot aix\u00f2 i m\u00e9s ho veurem a continuaci\u00f3.</li> </ul>"},{"location":"sprint2/#-commandes-terminal-i-accessos-als-directoris","title":"- Commandes terminal i accessos als directoris","text":"<p>Per a accedir al terminal normalment ho faremt amb un crtl + alt + t, aix\u00ed obrim el pseudo terminal. El terminal com a tal l'obrirem al el ctrl dret + F3, aquest es un terminal TTY. Un pseudo terminal es com un emulador on les comandes que posem son interpretades per alg\u00fan arxiu al que fan referencia i aquest fa els procediments, en canvi amb un terminal si que estem amb contacte directe amb el sistema.</p> <ul> <li> <p>En primer lloc veurem un document que actua com un registre de tots els comptes d'usuaris presents al sistema. Inclou dades com el nom del compte, l'identificador d'usuari (UID), el directori personal i el shell configurat per defecte. Es tracta d'un fitxer p\u00fablic, cosa que permet que qualsevol pugui consultar qui s\u00f3n els usuaris del sistema.</p> <p><code>[](#__codelineno-18-1)nano /etc/passwd</code></p> <p> *   A continuaci\u00f3 podem veure els grups dels usuaris i l'identificador de qui es el seu administrador.</p> <p><code>[](#__codelineno-19-1)nano /etc/group</code></p> <p> *   A continuaci\u00f3, en aquest arxiu es guarda la informaci\u00f3 relacionada amb les contrasenyes dels comptes d'usuari. Cada registre fa refer\u00e8ncia a un usuari i inclou la seva contrasenya codificada. Si apareix el s\u00edmbol \"!\", aix\u00f2 indica que el compte est\u00e0 deshabilitat i l'usuari no t\u00e9 perm\u00eds per accedir al sistema.</p> <p><code>[](#__codelineno-20-1)nano /etc/shadow</code></p> <p> *   Per \u00faltim aquest arxiu \u00e9s comparable a /etc/group, per\u00f2 ofereix detalls extres sobre els grups. En aquest lloc es pot identificar qui s\u00f3n els administradors de cada grup. Resulta pr\u00e0ctic per controlar els permisos i gestionar els privilegis d'acc\u00e9s dels diferents grups d'usuaris.</p> <p><code>[](#__codelineno-21-1)nano /etc/gshadow</code></p> <p></p> </li> </ul>"},{"location":"sprint2/#-creacio-dusuaris","title":"- Creaci\u00f3 d'usuaris","text":"<p>Per crear usuaris tenim diverses formes de fer-ho, el m\u00e9s important es tenir clar que amb certes comandes no es creen directoris sol usuaris. A continuaci\u00f3 es mostrar\u00e0 com crear usuaris.</p> <ul> <li> <p>En primer lloc utilitzarem la seg\u00fcent comanda, aquesta ens creara un usuari pero fins que no fessim un log in amb aquest no ens crear\u00e0 els directoris. Aquesta es la forma m\u00e9s senzilla de crear els usuaris ja que et ve pautada pel propi sistema operatiu.</p> <p><code>[](#__codelineno-22-1)adduser usuari</code></p> <p> Per crear un nou compte d'usuari al sistema, farem servir la comanda useradd. Aquesta comanda ens permetr\u00e0 afegir usuaris al sistema amb diversos par\u00e0metres que ens ajuden a configurar les seves propietats. A continuaci\u00f3, detallem alguns dels par\u00e0metres m\u00e9s destacats que podem utilitzar:</p> </li> <li> <p>-m: Indica que es generar\u00e0 autom\u00e0ticament un directori personal per a l'usuari.</p> </li> <li> <p>-s /bin/bash: Aquest par\u00e0metre ens permet definir el shell per defecte de l'usuari.</p> </li> <li> <p>-d /home/alumne2: Amb aquest par\u00e0metre, especifiquem el directori inicial de l'usuari. Per exemple, en aquest cas, el directori personal ser\u00e0 /home/alumne2.</p> </li> <li> <p>alumne2: Correspon al nom de l'usuari que estem creant. En aquest exemple, l'usuari es dir\u00e0 \"alumne2\".</p> </li> <li> <p>&amp;&amp; passwd alumne2: Aquesta comanda s\u2019utilitza per assignar o modificar la contrasenya de l\u2019usuari \"alumne\".</p> </li> </ul> <p><code>[](#__codelineno-23-1)useradd usuari</code></p> <p> - Sino utilitzem la comanda -m per als directoris els podem afegir de la seg\u00fcetn manera.</p> <p><code>[](#__codelineno-24-1)mkdir usuari</code></p> <p> </p> <ul> <li>Si volem canviar el nom de l'usuari podem utilitzar la seg\u00fcent comanda. EN el cas que hi ha a continuaci\u00f3 volem canviar el nom d'usuari de porva2, ja que hauria de ser prova2.</li> </ul> <p><code>[](#__codelineno-25-1)usermod -l usernou user</code></p> <p> </p> <ul> <li>En cas de voler eliminar acc\u00e9s a un usari ho podem fer bloquejant-lo, la comanda seria la seg\u00fcent. Una forma de comprovar que s'ha bloquejat correctament es entrar a la carpeta de passwd i veurem que la contrasenya del usuari al davant t\u00e9 un signe d'exclamaci\u00f3 \"!\"</li> </ul> <p><code>[](#__codelineno-26-1)usermod -L usuari</code></p> <p>  - Seguint amb la creaci\u00f3 d'usuaris, si tenim un usuari bloquejat i el volem recuperar utilitzarem aquesta comanda. A l'hora de comprovar-ho ens fixarem que ja no te l'exclamaci\u00f3.</p> <p><code>[](#__codelineno-27-1)usermod -U usuari</code></p> <p> - Si realment el que volem es eliminar l'usuari de forma m\u00e9s permanent ho farem amb la seg\u00fcent comanda. Per comprovar si l'hem eliminat correctament podem entrar a la carpeta passwd i veurem que l'usuari ja no hi es.</p> <p><code>[](#__codelineno-28-1)deluser usuari</code></p> <p> </p> <ul> <li> <p>Per complementar una mica les comandes que tenim, aqu\u00ed en tenim algunes que ens poden ajudar tamb\u00e9, la seg\u00fcent elimina la \"home\" de l'usuari.</p> <p><code>[](#__codelineno-29-1)rm -r usuari</code></p> </li> <li> <p>Un dels problemes habituals es que no eliminem les homes i directoris dels usuaris, amb la seg\u00fcent comanda ho podem fer tot a la vegada.</p> <p><code>[](#__codelineno-30-1)userdel -r usuari</code></p> </li> <li> <p>En cas de voler consultar algun tipus d'informaci\u00f3 sobre algun usuari, podem fer-ho aix\u00ed.</p> <p><code>[](#__codelineno-31-1)id usuari</code></p> <p> *   Un cop vist com es el funcionament a trav\u00e9s del terminal podrem observar com es fa per l'interficie gr\u00e0fica d'Ubuntu. Dins de la configuraci\u00f3 de sistema hem d'entrar a l'apartat usuaris, i despr\u00e9s seguirem els passos que hi ha a continuaci\u00f3.  </p> </li> </ul>"},{"location":"sprint2/#-creacio-de-grups","title":"- Creaci\u00f3 de grups","text":"<ul> <li>En aquest apartat veurem com funcionen els grups d'usuaris, com hem vist anteriorment podem consultar els grups i les seves contrasenyes. Important dir que quan es crea un usuari tamb\u00e9 es crea un grup amb el nom d'aquest.</li> <li> <p>Per crear un grup nou ho podem fer amb una senzilla comanda.</p> <p><code>[](#__codelineno-32-1)addgroup grup</code></p> <p> </p> </li> <li> <p>D'altra banda si el que volem es afegir un usuari a un grup existent ho podem fer d'aquesta manera.</p> <p><code>[](#__codelineno-33-1)adduser usuari grup</code></p> <p> </p> </li> <li> <p>L'operaci\u00f3 anterior tamb\u00e9 es pot fer amb aquesta comanda.</p> <p><code>[](#__codelineno-34-1)gpasswd -a usuari grup</code></p> </li> <li> <p>Per fer a un usuari administrador d'aquell grup ho podem fer aix\u00ed. Dins de la carpeta gshadow podem veure els usuaris i administradors dels grups, per reconeixels veurem la posici\u00f3 que tenen entre els \":\", l'alumne 2 es administrador d'asix1 i membre d'asix2.</p> <p><code>[](#__codelineno-35-1)gpasswd -A usuari grup</code></p> <p> </p> </li> <li> <p>Un dels majors problemes es que quan afegim usuaris a grups amb les comandes anteriors els treu del grup on estaven, per evitar-ho hem d'utilitzar la seg\u00fcent comanda. Com comprovarem l'usuari alumne2 forma part dels dos grups d'asix i es administrador del primer.</p> <p><code>[](#__codelineno-36-1)usermod -a -G grup usuari</code> </p> <p> </p> </li> <li> <p>Per eliminar un usuari d'un grup ho farem com veurem a continuaci\u00f3. En aquest cas l'alumne2 ja te prous responsabilitats i l'eliminarem del grup d'asix1.</p> <p><code>[](#__codelineno-37-1)gpasswd -d usuari grup</code></p> <p> </p> </li> <li> <p>L'anterior comanda tamb\u00e9 es pot fer amb aquesta altra</p> <p><code>[](#__codelineno-38-1)deluser usuari grup</code></p> <p></p> </li> <li> <p>Per fer un usuari el principal d'un grup en concret utilitzarem el seg\u00fcent.</p> <p><code>[](#__codelineno-39-1)usermod -g grup usuari</code></p> </li> <li> <p>En cas de voler canviar el nom d'algun grup ho farem amb la seg\u00fcent comanda.</p> <p><code>[](#__codelineno-40-1)groupmod -n grupnou grupvell</code></p> <p> </p> </li> </ul>"},{"location":"sprint2/#-configuracio-de-fitxers-dusuari","title":"- Configuraci\u00f3 de fitxers d'usuari","text":"<ul> <li>Com hem vist tenim una serie de comandes per defecte que tenen una serie d'efectes sobre els usuaris que hem creat. Tot aix\u00f2 es pot canviar, la seva \u00fatilitat resideix en que si volem que els nostres usuaris nous tinguin diferents directoris o incl\u00fas politiques de contrasenyes diferents. Ara veurem com es modifiquen els seg\u00fcents arxius.</li> <li> <p>El primer arixu que modificarem es el <code>/etc/default/useradd</code> que ens permet establir els valors predefinits per als nous usuaris, com la ruta del directori personal i el shell per defecte. Per configurar-lo utilitzem la seg\u00fcent comanda.</p> <p><code>[](#__codelineno-41-1)nano /etc/default/useradd</code></p> <p>Els parametres que es poden modificar son els seg\u00fcents: *   GROUP: Especifica el grup que s'assignar\u00e0 com a grup principal per defecte als nous usuaris. Si est\u00e0 comentat o no existeix, el sistema crea un grup nou per a cada nou usuari amb el mateix nom que l'usuari. *   HOME: Defineix la ruta base per als directoris de casa dels nous usuaris. Per defecte, \u00e9s /home. Si vols canviar la ubicaci\u00f3 dels directoris de casa, pots modificar aquest par\u00e0metre. *   INACTIVE: Estableix el nombre de dies despr\u00e9s dels quals una contrasenya expirada passar\u00e0 a estar inactiu si no es canvia. Un valor de -1 desactiva aquesta funcionalitat. *   EXPIRE: Data en qu\u00e8 l'usuari expira, en format AAAAMMDD. Si est\u00e0 comentat o no s'especifica, l'usuari no expira mai. *   SHELL: Indica el shell per defecte per als nous usuaris. El valor predeterminat \u00e9s /bin/sh, per\u00f2 es pot canviar a /bin/bash o qualsevol altre shell disponible. *   SKEL: Especifica el directori des del qual es copiaran els fitxers de configuraci\u00f3 per defecte quan es cre\u00ef un nou usuari. El valor predeterminat \u00e9s /etc/skel. *   CREATE_MAIL_SPOOL: Si est\u00e0 establert a \"yes\", es crear\u00e0 una carpeta de correu per a l'usuari nou. Per defecte, est\u00e0 establert a \"yes\".  *   Aquestes son unes possibles modificacions (d'exemple) </p> </li> <li> <p>Un altre fitxer que podem modificar es el de la politica de contrasenyes que es aquest <code>/etc/login.defs</code></p> <p><code>[](#__codelineno-42-1)nano /etc/login.defs</code></p> <p>Els parametres que ens permet modificar son:</p> </li> <li> <p>MAIL_DIR: Defineix l'ubicaci\u00f3 del directori d'emmagatzematge de correu per als nous usuaris. Per defecte, \u00e9s /var/mail.</p> </li> <li>PASS_MAX_DAYS: Nombre m\u00e0xim de dies que una contrasenya pot ser v\u00e0lida. Per defecte, pot ser 99999, el que significa que no expira mai.</li> <li>PASS_MIN_DAYS: Nombre m\u00ednim de dies entre canvis de contrasenya. Per defecte, \u00e9s 0, el que permet canvis immediats.</li> <li>PASS_MIN_LEN: Longitud m\u00ednima de la contrasenya; no obstant aix\u00f2, en sistemes moderns, aquest par\u00e0metre pot no tenir efecte, ja que la complexitat de la contrasenya es gestiona amb PAM (Pluggable Authentication Modules).</li> <li>PASS_WARN_AGE: Nombre de dies abans de l'expiraci\u00f3 de la contrasenya que es notifica a l'usuari. Per defecte, \u00e9s 7.</li> <li>UID_MIN i UID_MAX: Rangs m\u00ednim i m\u00e0xim per als identificadors d'usuari (UID) per als nous usuaris. Aix\u00f2 ajuda a assegurar que no es cre\u00efn usuaris amb UID que podrien entrar en conflicte amb comptes del sistema o altres usuaris.</li> <li>GID_MIN i GID_MAX: Rangs m\u00ednim i m\u00e0xim per als identificadors de grup (GID) per als nous grups.</li> <li>CREATE_HOME: Si est\u00e0 establert a \"yes\", es crea el directori de casa de l'usuari quan es crea un nou compte; si no, no es crea. Per defecte, pot ser \"no\" en alguns sistemes per raons de seguretat o per configuracions espec\u00edfiques.</li> <li>ENCRYPT_METHOD: M\u00e8tode de xifrat utilitzat per a les contrasenyes. Pot ser SHA512 o altres m\u00e8todes segons la versi\u00f3 del sistema.</li> <li>UMASK: Defineix el valor per defecte de la m\u00e0scara de permisos per als fitxers creats pels usuaris, afectant els permisos per defecte dels fitxers i directoris.</li> <li>USERGROUPS_ENAB: Si est\u00e0 establert a \"yes\", quan un usuari es suprimeix, el seu grup principal tamb\u00e9 es suprimeix si no hi ha altres membres en aquest grup.</li> </ul> <p> - Possibles modificacions (d'exemple) </p> <p>Per \u00faltim veurem el directori <code>/etc/skel</code>, dins d'aquest directori trobarem uns fitxers que son <code>.bashrc</code> <code>.profile</code> i <code>.bash_logout</code>. Aquestos fitxers s\u00f3n scripts de configuraci\u00f3 per al shell Bash i Sh que permeten personalitzar l'entorn de l'usuari.</p> <ul> <li>Quan es crea un nou usuari amb un directori home, el contingut d'aquest directori /etc/skel es copia al nou directori home de l'usuari. Aix\u00f2 permet configurar arxius i directoris per defecte per a tots els nous usuaris.</li> </ul> <p></p> <p><code>.bashrc</code>:</p> <p>Aquest arxiu s'executa cada vegada que es crea un nou shell interactiu que no \u00e9s un shell de login (per exemple, quan obres una nova finestra de terminal). Es pot utilitzar per:</p> <ul> <li> <p>Definir variables d'entorn: Per a variables que no necessiten ser establertes en el context de login.</p> </li> <li> <p>Ajustar alias: Crear atacs r\u00e0pids per a comandaments llargs o freq\u00fcents.</p> </li> <li> <p>Configurar funcions de shell: Afegir funcions personalitzades per facilitar tasques rutin\u00e0ries.</p> </li> <li> <p>Personalitzar el prompt: Canviar l'aparen\u00e7a del prompt del terminal.</p> </li> <li> <p>Establir par\u00e0metres de shell: Com historial, compleci\u00f3 de comandaments, etc.</p> </li> <li> <p>A continuaci\u00f3 un exemple d'us, canviant un \"alias\". Farem que ll sigui equivalent a la comanda ls -l, aix\u00ed cada cop que posem ll s'executar\u00e0 un ls -l.</p> </li> </ul> <p> </p> <p><code>.profile</code>:</p> <p>Aquest fitxer s\u2019executa autom\u00e0ticament quan l\u2019usuari inicia sessi\u00f3. Serveix per definir variables d\u2019entorn i aplicar altres configuracions globals. Alguns exemples d\u2019\u00fas s\u00f3n:</p> <ul> <li> <p>Definir variables d\u2019entorn, com PATH.</p> </li> <li> <p>Configurar el prompt o ajustar altres opcions del shell.</p> </li> <li> <p>Carregar altres fitxers de configuraci\u00f3, com .bashrc, si existeix.</p> </li> <li> <p>A continuaci\u00f3 un exemple d'us, canviarem l'editor de text per defecte i farem que sigui nano, ja que es el que m\u00e9s utilitzo.</p> </li> </ul> <p> </p> <p><code>.bash_logout</code></p> <p>Aquest fitxer s\u2019executa de forma autom\u00e0tica quan l\u2019usuari tanca una sessi\u00f3 interactiva. \u00c9s especialment \u00fatil per a:</p> <ul> <li> <p>Alliberar recursos o aturar processos temporals.</p> </li> <li> <p>Mostrar missatges de comiat o finalitzaci\u00f3 de sessi\u00f3.</p> </li> <li> <p>Executar scripts personalitzats per tasques de manteniment.</p> </li> <li> <p>A continuaci\u00f3 configurarem un missatge de sortida.</p> </li> </ul> <p> </p>"},{"location":"sprint2/#gestio-de-permisos","title":"Gesti\u00f3 de permisos","text":"<p>En els casos d'un sistema multiusuari on vulguem que diferents usuaris tinguin certs permisos per\u00f2 no els mateixos, \u00e9s important fer una bona gesti\u00f3 d'aquestos. Hi han vaires maneres de gestionar-ho, i les veurem a conitnuaci\u00f3.</p>"},{"location":"sprint2/#-permisos-estandars","title":"- Permisos estandars","text":"<ul> <li> <p>Els permisos estandars son una serie de permisos b\u00e0sics que es poden donar a tots els usuaris i grups. Els grups poden tenir diferents permisos respecte als usuaris, una forma de comprovar aix\u00f2 ho podem fer de la seg\u00fcent forma.</p> <p><code>[](#__codelineno-43-1)ls -l</code> </p> <p> *   En aquest cas podem observar que el primer root que apareix \u00e9s de l\u2019usuari i el segon \u00e9s del grup principal. Tamb\u00e9 surt la data de creaci\u00f3 i noms de directori, per\u00f2 la part important \u00e9s al principi.  *   Aqu\u00ed es on podem apreciar els permisos que hi han dins dels directoris. Despr\u00e9s de la lletra d, els primers permisos s\u00f3n els d'usuari \"rwx\" en aquest cas, aix\u00f2 vol dir que por llegir, escriure i executar, b\u00e0sicament te tots els permisos. Despr\u00e9s els seg\u00fcents permisos son els de grup equivalents a les 3 lletres seg\u00fcents: \"r-x\", en aquest cas com podem veure no te permisos per escriure. I per \u00faltim tenim els ultims 3 car\u00e0cters que equivalen a altres, usuaris que no s\u00f3n ni usuari principal ni formen part del grup principal, en aquest cas: \"r-x\", la mateixa situaci\u00f3 que abans no poden escriure per\u00f2 si llegir i executar. Aquest exemple es amb \"root\". *   A continuaci\u00f3 veurem com nosaltres podem agregar permisos als usuaris i grups.</p> <p><code>[](#__codelineno-44-1)chmod -R</code></p> </li> <li> <p>Opcions de fitxer/carpeta</p> <p><code>[](#__codelineno-45-1)chrgp -R</code></p> </li> <li> <p>Grup propietari fitxer/carpeta</p> <p><code>[](#__codelineno-46-1)chown - R</code></p> </li> <li> <p>Propietari fitxer/carpeta.</p> </li> <li>Cada lletra dels permisos te un significat associat: u = usuari, g = grup, o = others, a = all.</li> </ul>"},{"location":"sprint2/#-permisos-especials","title":"- Permisos especials","text":""},{"location":"sprint2/#-sticky","title":"- Sticky","text":"<ul> <li> <p>L'sticky es un perm\u00eds d'acc\u00e9s per fitxers i directoris. Quan l'apliquem l'\u00fanic usuari que el pot canviar es el root. Es pot aplicar de la seg\u00fcent manera.</p> <p><code>[](#__codelineno-47-1)chmod +t directori</code></p> <p><code>[](#__codelineno-48-1)chmod 1775 directori</code></p> </li> <li> <p>Aix\u00f2 es molt \u00fatil en sistemes multiusuari ja que sol el root i l'usuari que ha creat cert directori poden borrar o modificar el directori, els altres sol tenen permisos de lectura o escriptura. En cas de voler eliminar l'sticky podem utilitzar la seg\u00fcent comanda.</p> <p><code>[](#__codelineno-49-1)chmod -t directori</code></p> </li> </ul>"},{"location":"sprint2/#-sgid","title":"- sgid","text":"<ul> <li> <p>sgid es un perm\u00eds que esta relacionar amb els grups i principalment permet que qualsevol usuari executi l'arxiu com si fos part del grup al que pertany aquell arxiu. Per utilitzar-la podem fer el seg\u00fcent.  </p> <p><code>[](#__codelineno-50-1)chmod g+s</code></p> </li> </ul>"},{"location":"sprint2/#-suid","title":"- suid","text":"<ul> <li> <p>suid permet que un arxiu s'executi com si fos el propietari independentment de l'usuari que l'executi. Aquest a diferencia del sgid i sticky no es pot fer un script.</p> <p><code>[](#__codelineno-51-1)chmod g+s</code> </p> </li> </ul>"},{"location":"sprint2/#-llistes-de-control-dacces-acls","title":"- Llistes de control d'acc\u00e9s (ACLs)","text":"<ul> <li> <p>Una llista de control d'acc\u00e9s son una serie de regles que ens permeten uns accesos a sistemes de fitxers en aquest cas. Aquestes llistes ens poden donar uns accesos mes restrictius o mes permisius segons la configuarci\u00f3 que faci l'usuari. Per crear una ACL utilitzem la seg\u00fcent comanda.</p> <p><code>[](#__codelineno-52-1)setfacl</code></p> <p><code>[](#__codelineno-53-1)setfacl -m user:usuari:rw- exemple.text</code></p> <p><code>[](#__codelineno-54-1)setfacl -m group:grup:rwx carpeta</code></p> <p><code>[](#__codelineno-55-1)setfacl -b fitxer o carpeta</code></p> </li> <li> <p>Les restriccions venen donades per les lletres com hem vist abans, utilitza la mateixa nomenclatura. Per comprovar si les restriccions s'han aplicat correctament podem utilitzar la seg\u00fcent comanda.</p> <p><code>[](#__codelineno-56-1)getfacl</code></p> <p></p> </li> <li> <p>Si ens em equicocat a l'hora de configurar alguna ACL podem eliminar totes les excepcions. (TOTES).</p> <p><code>[](#__codelineno-57-1)setfacl -x usuari carpeta</code></p> </li> </ul>"},{"location":"sprint2/#-umask","title":"- Umask","text":"<ul> <li>Umask s'utilitza per canviar la mascara del mode de creaci\u00f3 d'arxius, auesta determina el valor inicial dels permisos que tindran els arxius que es creein. De forma predeterminada la mascara te el valor dels bits de perm\u00eds que NO s'han d'establir, per aix\u00f2 fem l'operaci\u00f3 de negaci\u00f3. Amb les seguents imatges entendrem millor la situaci\u00f3.</li> </ul> <p>  - El que esta fetn umask es una operaci\u00f3 coneguda com NOR, el que equivaldria a una resta convencional. - Aquestes operacions es poden realitzar amb la seg\u00fcent comanda, tot i que aix\u00f2 sol funcionar\u00e0 temporalment (els arxius ja creats no canvien de permisos).</p> <p><code>[](#__codelineno-58-1)umask + n\u00ba</code></p> <p>- Per a que els canvis siguin permanents tenim que modificar la umask al arxiu que tenim a la seg\u00fcent ruta.</p> <p><code>[](#__codelineno-59-1)/etc/login.defs</code></p> <p>- Un cop obert l'arxiu modifiquem el valor de la umask per defecte i aquest canvi si que es permantent. </p>"},{"location":"sprint2/#sistemes-de-fitxers-i-particions","title":"Sistemes de fitxers i particions","text":""},{"location":"sprint2/#-estructura-de-la-informacio","title":"- Estructura de la informaci\u00f3","text":"<ul> <li> <p>L'estructura de la informaci\u00f3 la podem dividir en diverses parts: la f\u00edsica que seria el disc (s\u00f2lid o mec\u00e0nic), i l'estructura l\u00f2gica que pot ser (gpt o mbr). La part l\u00f2gica pot ser consultada a trav\u00e9s de commandes per la terminal tal i com es mostra a continuaci\u00f3:</p> <p><code>[](#__codelineno-60-1)gdisk /dev/sda</code></p> <p> *   Els discs estan dividits amb blocs i dins de cada bloc tenim uns sectors. El sector \u00e9s la unitat m\u00ednima f\u00edsica on es guarden les dades i per defecte \u00e9s 512 bytes, per\u00f2 el SO no treballa en sectors treballa en blocs. El bloc \u00e9s la unitat m\u00ednima l\u00f2gica on es guarden les dades per defecte. La mida del sector no es pot canviar ve definida de f\u00e0brica, per\u00f2 la mida del bloc si es pot canviar. Quan formatem la partici\u00f3. Per consultar les mides del sector podem utilitzar les seguents comandes.</p> <p><code>[](#__codelineno-61-1)fdisk -l</code></p> <p>  *   Com hem vist tamb\u00e9 ens surt on es troba instalat el sistema operatiu (part resaltada de l'imatge anterior). Per seguir analitzant les mides de les particions podem utilitzar la seg\u00fcent comanda.</p> <p><code>[](#__codelineno-62-1)tune2fs -l /dev/sda | grep Block</code></p> <p> *   Seguidament si necessitem saber la informaci\u00f3 de les particions i sistemes de fitxers que s'utilitzen podem utilitzar aquesta comanda.</p> <p><code>[](#__codelineno-63-1)df -T</code></p> <p> *   Les mides dels blocs segons el tipus de fitxers que es guardin ens pot donar problemes, ara veurem dos possibles problemes amb les seves respectives solucions.</p> </li> </ul>"},{"location":"sprint2/#-fragmentacio-interna","title":"- Fragmentaci\u00f3 interna","text":"<p>La fragmentaci\u00f3 interna \u00e9s l\u2019espai que desaprofitem dels blocs perqu\u00e8 no s\u2019acaben d\u2019emplenar. Una soluci\u00f3 possible \u00e9s canviar la mida del block redu\u00efm la fragmentaci\u00f3 interna, per\u00f2 pots fragmentar un arxiu (baixes el rendiment), busquem un equilibri. Aquesta canvi de mida per reduir l'espai del bloc ens pot servir si emmagatzemem arxius que no tinguin una mida molt gran, com podiren ser els fitxers de text. D'altra banda si volem guardar fitxers mes grans com podrien ser pel\u00b7licules o ISOs em de fer m\u00e9s gran la mida del bloc perqu\u00e9 sino fragmentarem molt els arxius. RECOMANACI\u00d3! buscar sempre un equilibri i emmagatzemar els tipus d'arxius diferents en particions diferents, per no barrejar \"pelis amb textos\".</p>"},{"location":"sprint2/#-fragmentacio-externa","title":"- Fragmentaci\u00f3 externa","text":"<p>La fragmentaci\u00f3 externa \u00e9s quan el disc fa temps que treballa i els arxius es guarden en blocs separats i no continus, aix\u00f2 ens fa baixar el rendiment, aquesta baixada de rendiment es pot solucionar desfragmentant el disc. La desfragmentaci\u00f3 intenta ordenar els arxius per a que no estiguin .</p>"},{"location":"sprint2/#-tipus-de-formateig","title":"- Tipus de formateig","text":"<p>Hi ha tres maneres de formatar un disc i son les seg\u00fcents.</p> <ul> <li> <p>R\u00e0pid: Aquest formateig no borra els arxius, elimina el sistema de fitxers i en cas d'haver-hi un bloc defectuos s'ignora.</p> </li> <li> <p>Nivell mig: Aquest tampoc elimina els arxius sin\u00f3 que elimina el sistema de fitxers igual que ho fa el r\u00e0pid, la diferencia es que el mig detecta i marca els sectors i/o blocs defectuosos, sense reperar-los.</p> </li> <li> <p>Nivell baix: En aquest igual necessitem alg\u00fan programa extern. I en aquest cas si es borren els arxius, es borra tot i intenta reparar els blocs defectuosos. \u00c9s el m\u00e9s lent dels tres. Amb commandes tamb\u00e9 tal i com es mostra a continuaci\u00f3. Hi ha una command per mostar la cantitat de fragmentaci\u00f3 que tenim a la partici\u00f3 en concret (ens recomana si em de desfragmentar o no), i despr\u00e9s una altra per desfragmentar-lo.</p> <p><code>[](#__codelineno-64-1)e4defrag -c /dev/sda2 (consulta)</code></p> <p><code>[](#__codelineno-65-1)e4defrag /dev/sda2 (desfragmentaci\u00f3)</code></p> <p> </p> </li> </ul>"},{"location":"sprint2/#-particions","title":"- Particions","text":""},{"location":"sprint2/#-creacio-de-particions-i-formateig","title":"- Creaci\u00f3 de particions i formateig","text":"<ul> <li> <p>En primer lloc per entrar a un disc utilitzem la comanda:</p> <p><code>[](#__codelineno-66-1)fdisk /dev/sdb</code></p> </li> <li> <p>Aqu\u00ed assignem la configuraci\u00f3 de la partici\u00f3, en aquest cas seguim amb la configuraci\u00f3 per defecte fins al punt de la mida dels sectors, el primer (0-2048) esta reservat per al arrel?, i despr\u00e9s assignem l'espai que vulguem. I finalment confirmem la configuraci\u00f3.</p> </li> </ul> <p></p> <ul> <li>Amb la comanda de fdisk -l, mirem la configuraci\u00f3 que em fet sigui correcte.</li> </ul> <p></p> <ul> <li> <p>Per definir la mida del bloc que volem configurar podem utilitzar la seg\u00fcent comanda. Amb aquesta comanda fem la creaci\u00f3 d'una partici\u00f3 amb el format d'arxius que vulguem.</p> <p><code>[](#__codelineno-67-1)mkfs.ext4 -b 2048 /dev/sdb1</code></p> <p> *   Per assegurar-nos de les mides podem utilitzar la seg\u00fcent comanda. </p> </li> </ul>"},{"location":"sprint2/#-muntatge","title":"- Muntatge","text":"<ul> <li> <p>Dos opcions: temporal i definitiva:</p> </li> <li> <p>Temporal: mount es temporal, un cop montem la partici\u00f3 els fitxers que hi havien abans no apareixen i visceversa. Per comprovar aix\u00f2 podem seguir els seg\u00fcents passos crear un arxiu abans del muntatge i un despr\u00e9s, aix\u00ed veurem que quan el disc esta muntat sol veiem l'arxiu que em fet mentres aquest estava muntat, en canvi l'arxiu previ sol el podrem visualitzar despr\u00e9s de desmuntar-lo, mentres estigui muntat no el veurem. En aquest exemple fem una carpeta \"particio1\" i dins posem un arxiu \"hola\".</p> </li> </ul> <p></p> <ul> <li>Al fer un ls veiem que no ens apareix l'arxiu hola sino un que es diu \"lost+found\".</li> </ul> <p></p> <ul> <li>Despr\u00e9s provem de fer un arxiu nou adeu dins la partici\u00f3 i com veiem aquest si ens apareix al fer un ls de la carpeta.</li> </ul> <p></p> <ul> <li>Permanent: es al fitxer <code>/etc/fstab</code></li> </ul> <p></p> <p>En aquest fitxer podem definir els seg\u00fcents parametres:</p> <ul> <li> <p>/dev/sdb1: \u00c9s el dispositiu de bloc que es muntar\u00e0.</p> </li> <li> <p>/home: \u00c9s el punt de muntatge, el directori on es muntar\u00e0 el sistema de fitxers de /dev/sdb1. En aquest cas, es munta a /home.</p> </li> <li> <p>ext4: \u00c9s el tipus de sistema de fitxers que utilitza la partici\u00f3 /dev/sdb1.</p> </li> <li> <p>defaults: S\u00f3n les opcions de muntatge. defaults significa que s'utilitzen les opcions est\u00e0ndard de muntatge per a ext4.</p> </li> <li> <p>0: El primer zero es refereix a l'opci\u00f3 dump, que indica si el sistema de fitxers ha de ser copiat amb dump (un programa de c\u00f2pia de seguretat). Un valor de 0 significa que no es far\u00e0 c\u00f2pia de seguretat autom\u00e0ticament.</p> </li> <li> <p>0: El segon zero \u00e9s per a l'opci\u00f3 pass, que indica l'ordre en qu\u00e8 fsck (programa de comprovaci\u00f3 i reparaci\u00f3 de sistemes de fitxers) ha de ser executat en el sistema de fitxers durant l'inici. Un valor de 0 significa que fsck no es far\u00e0 autom\u00e0ticament en aquest sistema de fitxers.</p> </li> </ul>"},{"location":"sprint2/#-comparticio-de-la-carpeta-a-traves-dels-servidors-samba","title":"- Compartici\u00f3 de la carpeta a trav\u00e9s dels servidors SAMBA","text":""},{"location":"sprint2/#ext4","title":"ext4","text":"<ul> <li>El primer pas en el nostre cas es canviar a l'adaptador pont de la nostra m\u00e0quina virtual.</li> </ul> <ul> <li> <p>Seguidament instal\u00b7lem el smb client. L'eina smbclient et permet accedir als recursos compartits d'un servidor SMB, de manera similar a un client FTP de l\u00ednia de comandes. La pots utilitzar, per exemple, per carregar i descarregar fitxers cap a i des d'un recurs compartit.</p> <p><code>[](#__codelineno-68-1)apt install smbclient</code></p> </li> </ul> <p></p> <ul> <li> <p>Despr\u00e9s instal\u00b7larem el nautilus.</p> <p><code>[](#__codelineno-69-1)apt install nautilus-share</code></p> </li> <li> <p>Per comprovar si el nautilus funciona hem de seleccionar l'opci\u00f3 de <code>recursos compartits</code> d'un directori, el mes probable es que no funcioni.</p> </li> </ul> <p> </p> <ul> <li> <p>Per continuar com aquest pas no ens ha funcionat instal\u00b7lem samba.</p> <p><code>[](#__codelineno-70-1)apt install samba</code></p> <p></p> </li> <li> <p>Un cop tenim samba instal\u00b7lat accedirem a un dels seus arxius de configuraci\u00f3. <code>smb.conf</code>. En aquest arxiu afegirem la nostra partici\u00f3 i la configurarem per l'usuari \"platano\" tal i com es mostra a continuaci\u00f3.</p> <p><code>[](#__codelineno-71-1)nano /etc/samba/smb.conf</code></p> <p></p> </li> <li> <p>Per acabar amb la configuraci\u00f3 de l'arxiu i els canvis s'apliquin hem de reiniciar el sistema. </p> </li> <li> <p>Abans de procedir canviarem algunes opcions de permisos i propietats del grup, com es mostra a continuaci\u00f3. Tamb\u00e9 utilitzarem el nobody nogroup, aix\u00f2 es fa per assegurar que el servei no exposi accidentalment m\u00e9s del sistema del que est\u00e0 pensat.</p> </li> </ul> <p></p> <ul> <li>Per acabar, crearem l'usuari \"platano\" per al qual em configurat el servidor samba.</li> </ul> <p></p> <ul> <li>A continuaci\u00f3, desde la nostra m\u00e0quina (no virtual) visualitzarem els recursos compartits de la seg\u00fcent manera:</li> </ul> <p></p> <ul> <li>Per connectar-nos al servidor compartit ho farem a trav\u00e9s del navegador de fitxers, a l'apartat d'altres ubicacions i introduriem l'ardre\u00e7a corresponent.</li> </ul> <p> </p> <ul> <li>Com es pot veure a l'imatge, he creat un directori anomenat si, per comprovar que funciona la connexi\u00f3 amb els dos sentits, i que desde la m\u00e0quina virtual tamb\u00e9 pot veure el que ha fet platano. </li> </ul>"},{"location":"sprint2/#ntfs","title":"ntfs","text":"<ul> <li> <p>En primer lloc consultarem l'estat del nostre disc amb la comanda <code>fdisk -l</code> per assegurar-nos de que encara tenim espai per un altra partici\u00f3. </p> </li> <li> <p>Ens queda encara 1G per seguir, per tant, farem els mateixos passos que abans. Menys en la part del muntatge. </p> </li> <li> <p>Per assegurar-nos que ho hem fet correctament podem tornar a fer un <code>fdisk -l</code> </p> </li> <li> <p>En aquest pas es on es troba la diferencia, formatarem la partici\u00f3 per amb un sistema de fitxers diferent. </p> </li> <li> <p>Seguidament, farem els mateixos passos que a la particio1, creem un directori i dins un arixu hola. </p> </li> <li> <p>En aquest cas volem fer un muntatge definitiu, aix\u00ed que modificarem l'arxiu <code>fstab</code>. L'\u00fanica diferencia ser\u00e0 donar-li el format NTFS. Tamb\u00e9 afegirem el uid i gid amb nobody nogroup, tal i com hem fet amb l'ext4, amb la diferencia que aqu\u00ed ho apliquem directament al fstab per el format d'arxiu NTFS. </p> </li> <li> <p>Per continuar, assignarem al fitxer de configuraci\u00f3 de samba a l'usuario platano per a poder accedir al servidor, tal i com hem fet abans. </p> </li> <li> <p>Comprovem igual que hem fet abans desde el nostre client (fora de la maquina virtual) que veiem la partici\u00f3 creada.  </p> </li> <li> <p>Per \u00faltim creem un directori nou per fer-li proves.  </p> </li> <li> <p>Ara comprovarem si el nostre servidor samba tamb\u00e9 funciona amb un sistema operatiu windows, per fer-ho crearem una m\u00e0quina virtual windows 10, i entrarem desde el \"explorador d'archivos\" a l'apartat de xarxa i ens connectarem a una nova unitat de xarxa tal i com es mostra a continuaci\u00f3. </p> </li> <li> <p>Com es pot veure he seleccionat l'opci\u00f3 \"conectar con otras credenciales\", aix\u00f2 es per a que platano pugui entrar. </p> </li> <li> <p>Tamb\u00e9 podem veure la carpeta de proves que hem creat abans. </p> </li> <li> <p>Per comprovar si el funcionament es bidireccional crearem una altra carpeta de proves.  </p> </li> </ul>"},{"location":"sprint2/#copia-de-seguretat-i-automatitzacio-de-tasques","title":"Copia de seguretat i automatitzaci\u00f3 de tasques","text":""},{"location":"sprint2/#teoria","title":"Teoria","text":"<p>Hi han tres tipus de copies: completes, diferencials, incrementals. Bona politica de copies, bona gesti\u00f3 dels tipus.</p> <ul> <li> <p>Completa: Sempre que es pugui fer una copia completa, (buscar teoria, ventatga principal, desaventatge principal, i quina hem de recuperar).</p> </li> <li> <p>Diferencials: copia la diferencia de la completa, sempre de la \u00faltima, es m\u00e9s rapida. Pero per a recuperar-la sempre fan falta tant l'\u00faltima completa com l'\u00faltima diferencial, ocupa menys espai.</p> </li> <li> <p>Incremental: Copia la diferencia de la completa, despr\u00e9s per\u00f2 sol copia l'anterior incremental, hauries de recuperar totes les incrementals. Menys espai, per recuperar farira falta l'\u00faltima completa i totes les incrementals.</p> </li> </ul>"},{"location":"sprint2/#programes-sol-1-opcio","title":"Programes (sol 1 opci\u00f3)","text":""},{"location":"sprint2/#deja-dup-opcional","title":"Deja-dup (opcional)","text":""},{"location":"sprint2/#duplicity","title":"Duplicity","text":""},{"location":"sprint2/#comandes","title":"Comandes","text":""},{"location":"sprint2/#explicacio-i-taula-comparativa","title":"Explicaci\u00f3 i taula comparativa","text":""},{"location":"sprint2/#cp","title":"cp","text":"<ul> <li>\u00c9s una copia simple no intel\u00b7ligent. Copia tot sense miraments sol funciona en local.</li> </ul>"},{"location":"sprint2/#rsync","title":"rsync","text":"<ul> <li>Es una copia intel\u00b7ligent sol copia els fitxers modificats, copies entre maquines utilitzant ssh.</li> </ul>"},{"location":"sprint2/#dd","title":"dd","text":"<ul> <li>No es per fer copies de fitxers / arxius, sino a nivell particions i disc, es com una clonaci\u00f3. Treballa a nivell local i copia tot, no es intel\u00b7ligent. Tamb\u00e9 serveix per sobrescriure dades sector a sector, diferent a formatar, dona seguretat per no recuperar les dades previes, esborra tot a nivell de bloc.</li> </ul>"},{"location":"sprint2/#automatitzacio-amb-scripts-cron-i-anacron","title":"Automatitzaci\u00f3 amb scripts, cron i anacron","text":""},{"location":"sprint2/#diferencies-entre-anacron-i-cron","title":"Diferencies entre anacron i cron","text":"<p>Cron:</p> <ul> <li>Funci\u00f3: Automatitza tasques espec\u00edfiques en moments precisos (hora, dia, mes, etc.).</li> <li>\u00das: \u00c9s \u00fatil quan vols que una tasca s'executi a una hora concreta, per exemple, cada dia a les 2:00 AM.</li> <li>Limitaci\u00f3: Nom\u00e9s funciona quan l'ordinador est\u00e0 enc\u00e8s; si est\u00e0 apagat en el moment programat, la tasca no s'executar\u00e0.</li> </ul> <p>Anacron:</p> <ul> <li>Funci\u00f3: Tamb\u00e9 automatitza tasques, per\u00f2 est\u00e0 dissenyat per a m\u00e0quines que no estan sempre enceses.</li> <li>\u00das: Ideal per a tasques de manteniment del sistema que no depenen de l'hora exacta, com actualitzacions peri\u00f2diques. Quan engeguem l'ordinador, anacron comprova si hi ha tasques pendents i les executa.</li> <li>Avantatge: Funciona b\u00e9 en ordinadors que es tanquen sovint, ja que no es perd cap tasca programada.</li> </ul> <p>Cron: Per tasques espec\u00edfiques per a un usuari o quan necessites precisi\u00f3 temporal (per exemple, backups diaris a una hora concreta).</p> <p>Anacron: Per tasques generals, com manteniment del sistema que no requereixen ser executades en un moment exacte.</p> <p>Configuraci\u00f3 de cron:</p> <ul> <li>Arxiu global: <code>/etc/crontab</code> per tasques que afecten tots els usuaris.</li> <li>Usuari espec\u00edfic: Utilitza crontab -e -u usuari per configurar tasques per a un usuari particular.</li> <li>Carpetes predeterminades: Dins de <code>/etc/cron.daily/</code>, <code>/etc/cron.monthly/</code>, i <code>/etc/cron.annually/</code> per scripts que s'executin di\u00e0riament, mensualment o anualment, respectivament.</li> </ul> <p>Configuraci\u00f3 de anacron:</p> <ul> <li>Arxiu: <code>/etc/anacrontab</code> on es defineixen les tasques d'anacron.</li> </ul> <p></p>"},{"location":"sprint2/#exemple-dun-script","title":"Exemple d'un script","text":"<ul> <li>Per preparar un script primer crearem els directoris que volem copiar, que es troben dins del directori Imatges.</li> </ul> <ul> <li>En primer lloc crearem un script que crea una copia comprimida del directori /home/alumnat/Imatges/ i el desa a l'escriptori amb un nom que inclou la data i hora actuals.</li> </ul> <ul> <li>A continuaci\u00f3 dins del fitxer crontab, afegim la ruta del nostre script. Com es pot verue a la seg\u00fcent imatge li definim el minut hora i dia del mes, i amb un * a l'apartat dels dies per a que es faci cada dia.</li> </ul> <ul> <li>Per comprovar el seu funcionament esperem fins l'hora que em designat, com es veu a la seg\u00fcent imatge es crea l'arxiu comprimit, al descomprimir-lo podem veure que si ha fet la copia dels dos directoris que hi ha a la carpeta Imatges.</li> </ul> <ul> <li>A continuaci\u00f3 deixem la linea del crontab comentada. I seguidament del nostre escript li traurem el punt sh i el mourem a la carpeta de cron.daily.</li> </ul> <ul> <li>Per assegurar que l'script s'executi al obrir l'ordinador, obrim el fitxer <code>/var/spool/anacron/cron.daily</code>, aqu\u00ed s'indica l'\u00faltima vegada que es van executar les tasques di\u00e0ries. En aquest cas ens interessa que no hi hagui res.</li> </ul> <ul> <li>Amb l'script al lloc de les tasques diaries i amb la comprovaci\u00f3 de que no s'han realitzat encara obrim <code>/etc/anacrontab</code> i el configurem tal i com es mostra a continuaci\u00f3. Posem que s'executin en 1 minut despr\u00e9s de l'arrencada del dispositiu.</li> </ul> <ul> <li>Un cop reiniciat l'ordinador esperem un minut i veurem que a l'escriptori apareix la copia del directori imatges, i si mirem el cron.daily veurem que s'ha executat la tasca diaria.</li> </ul>"},{"location":"sprint2/#quotes-de-disc","title":"Quotes de disc","text":"<p>Les quotes de disc s\u00f3n unes limitacions imposades a l'\u00fas d'emmagatzematge d'un sistema en aquest cas cas Ubuntu. \u00c9s poden limitar tant per usuaris com per grups, aix\u00f2 es fa per optimitzar l'espai i no fer un malbaratament d'espai. Les quotes es poden modificar en entorns de servidors o ordinadors multiusuari, i els limets pot ser tant de mida com de n\u00famero de fitxers.</p> <ul> <li>En aquest cas assignarem un disc nou de 5GB per fer proves, com hem vist en passos anteriors fem una partici\u00f3 nova amb tot l'espai del disc i format d'arxius ext4.</li> </ul> <p></p> <ul> <li> <p>Per configurar les quotes de disc haurem d'instal\u00b7lar quota.</p> <p><code>[](#__codelineno-72-1)sudo apt update</code></p> <p><code>[](#__codelineno-73-1)sudo apt install quota</code></p> <p></p> </li> <li> <p>Per fer les proves crearem una carpeta \"dades\"</p> </li> </ul> <p></p> <ul> <li> <p>En aquest punt ens interessar\u00e0 fer un muntatge permanent i posar les quotes a l'arxiu fstab. Aplicarem quotes d'usuari i de grup. </p> </li> <li> <p>A continuaci\u00f3, farem un reinici del sistema i comprovarem el muntatge i afegirem els fitxers de les quotes d'usuari i de grup, i tamb\u00e9 les activarem. Per provar les quotes assignarem un usuari nou anomenat usuari5. Finalment amb un ls comprovarem que els canvis s'hagin aplicat.</p> <p><code>[](#__codelineno-74-1)quotacheck -cug /mnt/dades</code></p> <p><code>[](#__codelineno-75-1)quotaon /mnt/dades</code></p> <p></p> </li> <li> <p>Per veure les quotes assignades a l'usuari5 podem comprovar-ho de la seg\u00fcent forma. </p> </li> <li> <p>Com podem veure encara no te cap quota assignada, per fer-ho podem utilitzar la seg\u00fcent comanda.</p> <p><code>[](#__codelineno-76-1)edquota -u usuari5</code></p> <p> L'arxiu que modificarem cont\u00e9 aquests parametres:</p> </li> <li> <p>Filesystem (/dev/sdc1): Aquest \u00e9s el sistema de fitxers o partici\u00f3 del disc on s'apliquen les quotes.</p> </li> <li> <p>blocks: Representa l'espai en disc actualment utilitzat per l'usuari en blocs.</p> </li> <li> <p>soft: 1024 \u00e9s el l\u00edmit \"soft\" d'espai en blocs que l'usuari pot utilitzar. Aquest l\u00edmit pot ser excedit temporalment, per\u00f2 es recomana no sobrepassar-lo.</p> </li> <li> <p>hard: 2048 \u00e9s el l\u00edmit \"hard\" d'espai en blocs. Aquest l\u00edmit no es pot excedir. Si l'usuari intenta utilitzar m\u00e9s espai del que li correspon per aquest l\u00edmit, no podr\u00e0 guardar m\u00e9s dades.</p> </li> <li> <p>inodes:Representa el nombre d'inodes (estructures de dades que representen fitxers) actualment utilitzats per l'usuari.</p> </li> <li> <p>soft: \u00c9s el l\u00edmit \"soft\" per al nombre d'inodes. No est\u00e0 establert en aquest cas, indicant que no hi ha l\u00edmit soft per al nombre de fitxers.</p> </li> <li> <p>hard: \u00c9s el l\u00edmit \"hard\" per al nombre d'inodes. Com amb el l\u00edmit soft, no est\u00e0 establert.</p> </li> </ul> <p>Seguidament accedirem a l'usuari 5 i modificarem els permisos tamb\u00e9 afegirem una comanda on pasar\u00e0 el seg\u00fcent: dd: Es crea un fitxer anomenat test amb dades de /dev/zero de 800 KiB (bs=1K count=800).</p> <p><code>[](#__codelineno-77-1)dd if=/dev/zero of=test bs=1K count=800</code></p> <p>- Per veure un informe detallat del disc i les seves quotes utilitzarem la seg\u00fcent comanmda:</p> <p><code>[](#__codelineno-78-1)repquota /dev/sdc1</code></p> <p></p> <ul> <li> <p>Continuant amb les proves generarem un altre arxiu test per comprovar que passa si superem la cantitat d'emmagatzematge assignada. </p> <p><code>[](#__codelineno-79-1)s'ha execedit la quota de disc</code></p> </li> <li> <p>Una vegada mes podem utilitzar la comanda <code>quota -u usuari5</code> per comprovar els seg\u00fcents parametres. </p> </li> <li> <p>Per acabar tamb\u00e9 podem modificar els dies de gr\u00e0cia per defecte.</p> <p>edquota -t`</p> <p></p> </li> </ul>"},{"location":"umask/","title":"Umask","text":"<p>L'umask \u00e9s una configuraci\u00f3 en sistemes Unix/Linux que determina els permisos inicials per als fitxers i directoris nous que es creen. \u00c9s com un \"filtre\" que restringeix els permisos predeterminats.</p> <p></p>"},{"location":"umask/#configurar-umask","title":"Configurar Umask","text":"<p>Quan es crea un fitxer o directori, el sistema assigna els permisos m\u00e0xims possibles. Per als fitxers, els permisos predeterminats solen ser 666 (lectura i escriptura per a tothom), i per als directoris, els permisos predeterminats s\u00f3n 777 (lectura, escriptura i execuci\u00f3 per a tothom). Aquests permisos es veuen modificats pel umask, que indica quins permisos s'han de retirar.</p> <p>Suposem que el valor del umask \u00e9s 022. Aix\u00f2 significa el seg\u00fcent:</p> <p>0 per al propietari (no es treuen permisos). 2 pel grup (s'elimina el perm\u00eds d'escriptura). 2 per a altres (tamb\u00e9 se'ls elimina el perm\u00eds d'escriptura).</p> <p>C\u00e0lcul del umask: Per entendre com es calculen els permisos finals, es resta el umask dels permisos predeterminats:</p> <p>Permisos predeterminats: Fitxers: 666 Directoris: 777 Restar el umask:</p> <p>Si el umask \u00e9s 022: Fitxers: 666 - 022 = 644 (lectura i escriptura per al propietari, nom\u00e9s lectura per al grup i altres). Directoris: 777 - 022 = 755 (lectura, escriptura i execuci\u00f3 per al propietari, i nom\u00e9s lectura i execuci\u00f3 per al grup i altres).</p> <p>Ara fare una prova amb la meva m\u00e0quina.</p> <p></p> <p>Ara si creo un fitxer nou i miro els permisos tindra -rw-r--r--, que vol dir que el propietari te permisos de lectura i escritura el grup de lectura i altres tamb\u00e9 lectura.</p> <p></p> <p></p>"},{"location":"umask/#aclaracions-umask","title":"Aclaracions Umask","text":"<ul> <li>Cal aclarir que el umask es reinicia amb els permisos predeterminats al reiniciar la m\u00e0quina.</li> <li>Si tanquem la sessi\u00f3 i obrim una altra tamb\u00e9 es reinicia als permisos predeterminats.</li> <li>Per establir un umask permanent, has de modificar els fitxers de configuraci\u00f3 d'inici de la teva shell.</li> </ul>"},{"location":"usuaris/","title":"Crear i eliminar usuaris a Ubuntu","text":"<p>Tenim diferents formes de poder afegir i eliminar usuaris.</p>"},{"location":"usuaris/#adduser","title":"ADDUSER","text":"<p>Adduser \u00e9s la forma m\u00e9s sencilla de crear un usuari, ja que aquests alhora de crearlo ens proporciona les dades basiques per emplenar d'un usuari com la contrasenya, etc.</p> <p>A m\u00e9s a m\u00e9s automaticament ens crea una propi directori de l'usuari creat ell com a admin.</p> <p>Contrasenya</p> <p></p> <p>Tamb\u00e9 ens demana el nom.</p> <p></p> <p>I m\u00e9s informaci\u00f3 irrellebant.</p> <p></p>"},{"location":"usuaris/#useradd","title":"USERADD","text":"<p>Al contrari aquesta comanda no ens demana de proporcionar-li m\u00e9s informaci\u00f3 apart del nom d'usuari, per tant tindrem que configurar nosaltres mateixos la contrasenya i altres par\u00e0metres. Tampoc crea cap directori.</p> <p></p> <p>Per tant si volem assignar a un usuari la contrasenya amb aquesta comanda la podrem afegir manualment.</p> <p></p> <p>Tamb\u00e9 \u00e9s important que si no afegim -m al useradd no ens crea un directori home com he nombrat abans, per tant si volem crearlo amb el directori home utilitzarem useradd -m (nomusuari)</p> <p></p> <p>I podem comprovar que s'ha creat correctament l'usuari amb el directori home.</p> <p></p> <p>Si el creo sense -m no existeix el directori /home/josep.</p> <p></p>"},{"location":"usuaris/#eliminar-usuari","title":"Eliminar usuari","text":"<p>Aquest comanda ens facilita borrar un usuari, si anteriorment hem creat l'usuari amb una carpeta /home/nomusuari el deluser no ens borra aquesta carpeta.</p> <p></p> <p>Per eliminar la carpeta del propi usuari cal afegir el -r.</p>"},{"location":"usuaris/#alguns-dels-fitxers-de-configuracio","title":"Alguns dels fitxers de configuraci\u00f3","text":"<p>/etc/passwd</p> <p>Cont\u00e9 la informaci\u00f3 b\u00e0sica dels usuaris, com el nom d'usuari, l'ID d'usuari (UID), el grup principal (GID), el directori home i la shell per defecte. Cada l\u00ednia representa un usuari del sistema.</p> <p></p> <p>/etc/shadow</p> <p>Emmagatzema les contrasenyes dels usuaris de manera xifrada, aix\u00ed com informaci\u00f3 relacionada com la data de l'\u00faltim canvi de contrasenya, les dates d'expiraci\u00f3, etc. Nom\u00e9s els usuaris amb privilegis poden accedir a aquest arxiu.</p> <p></p> <p>/etc/group</p> <p>Cont\u00e9 la informaci\u00f3 sobre els grups del sistema, com el nom del grup, el GID i els usuaris que pertanyen a cada grup. Cada l\u00ednia representa un grup i els seus membres. </p> <p>/etc/gshadow</p> <p>Similar a /etc/shadow, per\u00f2 per als grups. Guarda informaci\u00f3 sensible com les contrasenyes dels grups (si s'utilitzen) i els administradors de cada grup.</p> <p></p> <p>/etc/skel/</p> <p>\u00c9s un directori que cont\u00e9 els arxius per defecte que es copien al directori home d'un nou usuari quan es crea un compte. Per defecte \u00e9s buit.</p> <p></p>"},{"location":"xarxa/","title":"Configuraci\u00f3 xarxa VirtualBox","text":"<p>Per poder tenir connexi\u00f3 a internet tindrem que afegir una o varies interf\u00edcies a la m\u00e0quina.</p> <p>En aquest cas he afegit un adaptador amb Xarxa NAT, aquest tipus de Xarxa ens proporciona una direcci\u00f3 IP din\u00e0mica que podrem utilitzar en qualsevol lloc i aquesta IP no cambiara.</p> <p>El primer que cal fer \u00e9s anar a  Fitxer // Eines //  Network Manager.</p> <p>Aqu\u00ed crearem una nova xarxa NAT.</p> <p></p> <p>Un cop fet aix\u00f2 ja puc assignar la xarxa NAT creada a la m\u00e0quina.</p> <p></p> <p>Si accedim al Ubuntu i fem un ip a podrem comprovar que rep la IP per DHCP.</p> <p></p>"},{"location":"xarxa/#opcions-xarxa","title":"Opcions Xarxa","text":"<p>De la mateixa manera que podem posar una IP per DHCP podem posar-la manual i de diferents maneres.</p>"},{"location":"xarxa/#ip-manual-per-terminal","title":"IP manual per terminal","text":"<p>Per aix\u00f3 tinc que obrir una finestra amb la terminal, i dirigirme hasta el fitxer 01-network-manager-all.yaml on podre cambiar els par\u00e0metres de xarxa.</p> <p></p> <p>I li assignare un IP manual diferent.</p> <p></p> <p>Un cop fet aix\u00f2 caldra aplicar els canvis amb la comanda netplan apply (nom fitxer).</p> <p></p> <p>Si no apareix res significa que els canvis han estat aplicats correctament, en el cas contrari apareixeran els errors i la l\u00ednia exacta.</p>"},{"location":"xarxa/#ip-manual-interficie-grafica","title":"IP manual interf\u00edcie gr\u00e0fica","text":"<p>Aquesta \u00e9s la forma m\u00e9s facil per establir una IP com a usuari, ja que \u00e9s molt m\u00e9s visual.</p> <p>Per aix\u00f2 em dirigire a la secci\u00f3 de par\u00e0metres, cap</p> <p></p> <p>I ara em dirigire a la secci\u00f3 de xarxa, i aplicare la configuraci\u00f3, la Adre\u00e7a de xarxa que volem donarli a l 'ordinador, la mascara de xarxa /24 i la adre\u00e7a del router  (Passarel\u00b7la).</p> <p></p> <p>I si posem ip a ens mostrara la ip assignada a la interf\u00edcie enp0s3.</p> <p></p> <p>Aquesta obra t\u00e9 la llic\u00e8ncia CC BY-NC-ND 4.0</p>"}]}